/* CV Maker Design - Next Level Enhanced Refinements (v38.0 - No Mouse Glow, Header Compact) */

:root {
    /* --- Light Theme Colors --- */
    --primary: #5E55F8;
    --primary-rgb: 94, 85, 248;
    --primary-hover: #4D43E0;
    --primary-active: #3C32B3;

    --secondary-accent: #00C4FF;
    --tertiary-accent: #F9325A;
    --quaternary-accent: #FFC000;

    --neutral-bg: #F9FAFB;
    --neutral-light: #FFFFFF;
    --neutral-border: rgba(0, 0, 0, 0.07);
    --neutral-text: #111827;
    --muted-text: #6B7280;
    --subtle-text: #D1D5DB;
    --divider-color: rgba(0, 0, 0, 0.05);

    --bg-gradient-start: #F9FAFB;
    --bg-gradient-middle: #FDFDFE;
    --bg-gradient-end: #FFFFFF;

    --glass-bg: rgba(255, 255, 255, 0.9);
    --glass-border: rgba(0, 0, 0, 0.05);
    --glass-inner-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.02);


    /* --- Dark Theme Colors (Pushing closer to Linear) --- */
    --dark-primary: #8077FF;
    --dark-primary-rgb: 128, 119, 255;
    --dark-primary-hover: #6F66E8;
    --dark-primary-active: #5D54C0;

    --dark-secondary-accent: #00E0FF; /* Slightly brighter */
    --dark-tertiary-accent: #FF527A; /* Slightly brighter */

    --dark-neutral-bg: #030304;
    --dark-neutral-container: #0A0A0C;
    --dark-neutral-light: #121215;
    --dark-neutral-border: rgba(255, 255, 255, 0.08);

    /* UPDATED: Lighter text colors for better contrast in dark theme */
    --dark-neutral-text: #EAEAEB; /* Main light text */
    --dark-muted-text: #C0C2C5; /* Lighter muted text for better contrast */
    --dark-subtle-text: #A0A2A5; /* Even lighter subtle text for better contrast */

    --dark-divider-color: rgba(255, 255, 255, 0.06);

    --dark-bg-gradient-start: #060608;
    --dark-bg-gradient-middle: #030304;
    --dark-bg-gradient-end: #010102;

    --dark-glass-bg: rgba(10, 10, 12, 0.95); /* Slightly less transparent for clarity */
    --dark-glass-border: rgba(255, 255, 255, 0.1); /* More visible border */
    --dark-glass-inner-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2); /* More pronounced inner shadow */


    --radius: 12px;
    --radius-sm: 8px;
    --shadow-light: 0 6px 16px rgba(0, 0, 0, 0.05), 0 2px 6px rgba(0,0,0,0.04); /* More pronounced light shadow */
    --shadow-hover: 0 10px 25px rgba(0, 0, 0, 0.08), 0 5px 10px rgba(0,0,0,0.06); /* Deeper hover shadow */
    --shadow-interactive: 0 8px 20px rgba(var(--primary-rgb), 0.15), 0 3px 8px rgba(var(--primary-rgb), 0.12); /* More pronounced primary tinted shadow */
    --shadow-interactive-dark: 0 8px 20px rgba(var(--dark-primary-rgb), 0.2), 0 3px 8px rgba(var(--dark-primary-rgb), 0.15); /* More pronounced dark primary tinted shadow */

    /* Card Tilt/Parallax Variables */
    --card-tilt-max: 5; /* Max rotation in degrees */
    --card-scale-hover: 1.01; /* Slight scale on hover */
    --rotate-x: 0deg; /* Initial values, set by JS */
    --rotate-y: 0deg; /* Initial values, set by JS */
    --scale: 1; /* Initial values, set by JS */

    /* Ripple/Underline Effects */
    --button-ripple-color: rgba(255, 255, 255, 0.3); /* Ripple color for primary buttons */
    --button-ripple-color-dark: rgba(0, 0, 0, 0.2); /* Ripple color for dark buttons */
    --link-underline-thickness: 1.5px;
    --link-underline-offset: 4px;
    --link-underline-color: var(--primary);
    --link-underline-color-dark: var(--dark-primary);


    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
    --font-monospace: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;

    --space-xs: 6px;
    --space-sm: 12px;
    --space-md: 20px;
    --space-lg: 30px;
    --space-xl: 40px;
    --space-xxl: 60px;
    --space-section-vertical: 100px; /* Slightly more vertical space */
    --space-hero-padding-top: var(--space-section-vertical);
    --space-hero-padding-bottom: calc(var(--space-section-vertical) - var(--space-lg));


    /* Variables for Message Styling Consistency */
    --message-success-bg: #b3e8cf; /* Light green background */
    --message-success-color: #2b9476; /* Darker green text */
    --message-success-border: #A7F3D0; /* Lighter green border */

    --message-error-bg: #d3aeae; /* Light red background */
    --message-error-color: #b95959; /* Darker red text */
    --message-error-border: #FECACA; /* Lighter red border */

    --message-info-bg: #EFF6FF; /* Light blue background */
    --message-info-color: #1E40AF; /* Darker blue text */
    --message-info-border: #BFDBFE; /* Lighter blue border */

    /* Dark Theme Message Colors */
    --dark-message-success-bg: #042f20; /* Dark green background */
    --dark-message-success-color: #6ee7b7; /* Lighter green text */
    --dark-message-success-border: #064e3b; /* Darker green border */

    --dark-message-error-bg: #450a0a; /* Dark red background */
    --dark-message-error-color: #fca5a5; /* Lighter red text */
    --dark-message-error-border: #7f1d1d; /* Darker red border */

    --dark-message-info-bg: #1e293b; /* Dark blue background */
    --dark-message-info-color: #93c5fd; /* Lighter blue text */
    --dark-message-info-border: #1e40af; /* Darker blue border */

    /* Page Transition variables */
    --transition-origin-x: 50%;
    --transition-origin-y: 50%;

    /* Header Transparency on Scroll */
    --header-bg-scrolled: rgba(249, 250, 251, 0.95); /* Increased opacity */
    --header-shadow-scrolled: 0 6px 12px rgba(0, 0, 0, 0.1), 0 3px 6px rgba(0,0,0,0.06); /* More prominent shadow */
    --dark-header-bg-scrolled: rgba(3, 3, 4, 0.95); /* Increased opacity */
    --dark-header-shadow-scrolled: 0 6px 12px rgba(0, 0, 0, 0.6), 0 3px 6px rgba(0,0,0,0.3); /* More prominent shadow */

    /* Animation Variables */
    --animation-duration-fast: 0.15s;
    --animation-duration-normal: 0.4s; /* Longer for smoother feel */
    --animation-duration-slow: 0.6s; /* Longer */
    --animation-reveal-duration: 1.5s; /* Slower, more deliberate reveal */
    --animation-ease: cubic-bezier(0.4, 0, 0.2, 1); /* Standard ease-in-out */
    --animation-ease-out: cubic-bezier(0.25, 0.8, 0.25, 1); /* More pronounced ease-out */
    --animation-ease-in-out-back: cubic-bezier(0.68, -0.55, 0.27, 1.55); /* For subtle bounce/overshoot */


    /* --- Theme Transition Duration --- */
    --theme-transition-duration: 0.6s; /* Slower theme transition */
    --theme-transition-blur: 15px; /* Blur amount during theme transition */

    /* Define approximate header/footer heights if needed for min-height calculation */
    --header-height: 60px; /* Approximate height, adjust if your header changes */
    --footer-height: 50px; /* Approximate height, adjust if your footer changes */

    /* Scrollbar Colors */
    --scrollbar-track-bg: rgba(0, 0, 0, 0.08); /* Slightly more visible */
    --scrollbar-thumb-bg: rgba(0, 0, 0, 0.25); /* Slightly more visible */
    --dark-scrollbar-track-bg: rgba(255, 255, 255, 0.08); /* Slightly more visible */
    --dark-scrollbar-thumb-bg: rgba(255, 255, 255, 0.35); /* Slightly more visible */

    /* Form Field Focus Glow */
    --form-focus-glow-light: rgba(var(--primary-rgb), 0.45); /* Increased intensity */
    --form-focus-glow-dark: rgba(var(--dark-primary-rgb), 0.55); /* Increased intensity */

    /* Particle effect variables (example, if implemented) */
    --particle-color: var(--primary);
    --particle-size: 3px; /* Slightly larger particles */
    --particle-count: 80; /* More particles */
}

/* --- General Message Styling (for form feedback, page alerts, etc.) --- */
.message {
    padding: 12px 20px; /* More padding */
    margin-bottom: var(--space-md);
    border-radius: var(--radius-sm);
    font-size: 0.95em; /* Slightly larger font */
    text-align: center;
    border: 1px solid transparent;
    display: block; /* Default to block, JS might hide/show */
    opacity: 1;
    transition: opacity 0.5s ease-out; /* Smooth fade out */
    word-break: break-word; /* Prevent overflow */
}

.message.fade-out {
    opacity: 0;
}

.message.success {
    background-color: var(--message-success-bg);
    color: var(--message-success-color);
    border-color: var(--message-success-border);
}
.message.error {
    background-color: var(--message-error-bg);
    color: var(--message-error-color);
    border-color: var(--message-error-border);
}
.message.info {
    background-color: var(--message-info-bg);
    color: var(--message-info-color);
    border-color: var(--message-info-border);
}

/* Dark Theme Message Overrides */
body.dark-theme .message.success {
    background-color: var(--dark-message-success-bg);
    color: var(--dark-message-success-color);
    border-color: var(--dark-message-success-border);
}
body.dark-theme .message.error {
    background-color: var(--dark-message-error-bg);
    color: var(--dark-message-error-color);
    border-color: var(--dark-message-error-border);
}
body.dark-theme .message.info {
    color: var(--dark-message-info-color);
    background-color: var(--dark-message-info-bg);
    border-color: var(--dark-message-info-border);
}

/* --- Dark Theme Overrides using .dark-theme class --- */
body.dark-theme {
    background: radial-gradient(ellipse 70% 40% at top left, var(--dark-bg-gradient-start) 0%, var(--dark-bg-gradient-middle) 70%, var(--dark-bg-gradient-end) 100%) var(--dark-neutral-bg);
    color: var(--dark-neutral-text); /* This sets the base text color for dark theme */

    header { /* This refers to the main site header, not .background-cv .header-placeholder */
        background: rgba(3, 3, 4, 0.9); /* Slightly more transparent initially */
        box-shadow: none; /* No shadow initially */
    }

    .login-form-container, .signup-form-container, .contact-form-container, .cv-form, .template-selection-page-container, .cv-list-container, .cv-preview-page-wrapper, .page-container, .profile-container {
        background: var(--dark-neutral-container);
        border: 1px solid var(--dark-neutral-border);
        box-shadow: 0 4px 10px rgba(0,0,0,0.3), 0 15px 50px rgba(var(--dark-primary-rgb), 0.05); /* More pronounced shadow */
    }
     .login-form-container:hover, .signup-form-container:hover, .contact-form-container:hover, .cv-form:hover, .cv-list-container:hover, .cv-preview-page-wrapper:hover, .template-selection-page-container:hover, .page-container:hover, .profile-container:hover {
        border-color: var(--dark-primary);
        box-shadow: 0 6px 15px rgba(0,0,0,0.35), 0 18px 60px rgba(var(--dark-primary-rgb), 0.08); /* More pronounced shadow */
    }
    .homepage-content-wrapper { /* Ensure homepage content wrapper is transparent in dark theme if background CVs are used */
        background: transparent;
        border: none;
        box-shadow: none;
    }
    .feature-item {
        background: var(--dark-neutral-light);
        border-color: var(--dark-neutral-border);
        box-shadow: 0 2px 6px rgba(0,0,0,0.2), 0 1px 3px rgba(0,0,0,0.15); /* More pronounced shadow */
    }
    .feature-item:hover {
        background: #1A1A1D;
        border-color: var(--dark-primary);
        box-shadow: 0 4px 10px rgba(0,0,0,0.25), 0 2px 5px rgba(0,0,0,0.15); /* More pronounced shadow */
    }
    .feature-icon-wrapper {
        background-color: rgba(var(--dark-primary-rgb), 0.1); /* Slightly more visible */
    }
    .feature-item:hover .feature-icon-wrapper {
        background-color: rgba(var(--dark-primary-rgb), 0.15); /* Slightly more visible */
    }
     .step-item {
        background: var(--dark-neutral-light);
        border-color: var(--dark-neutral-border);
        box-shadow: 0 2px 6px rgba(0,0,0,0.2), 0 1px 3px rgba(0,0,0,0.15); /* More pronounced shadow */
    }
    .step-item:hover {
        border-color: var(--dark-primary);
    }
    .step-icon-wrapper { background-color: rgba(var(--dark-primary-rgb), 0.1); } /* Slightly more visible */
    @media (min-width: 768px) {
        .how-it-works-steps::before { background-color: var(--dark-divider-color); }
        .step-item::after {
            background-color: var(--dark-primary);
            border-color: var(--dark-neutral-light);
        }
    }
    .step-item i { color: var(--dark-primary); }
    .step-item h4 { color: var(--dark-neutral-text); }
    .step-item p { color: var(--dark-muted-text); }


    .hero-visual-element {
      color: var(--dark-neutral-border);
    }

    /* Dark theme styles for autofilled input fields */
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    textarea:-webkit-autofill,
    textarea:-webkit-autofill:hover,
    textarea:-webkit-autofill:focus,
    select:-webkit-autofill,
    select:-webkit-autofill:hover,
    select:-webkit-autofill:focus {
        -webkit-text-fill-color: var(--dark-neutral-text) !important; /* Ensure text color is light */
        /* Use a slightly darker background for autofill to distinguish but not clash */
        -webkit-box-shadow: 0 0 0px 1000px var(--dark-neutral-light) inset; /* Removed !important, adjusted background */
        background-color: var(--dark-neutral-light) !important; /* Explicitly set background */
        transition: background-color 5000s ease-in-out 0s;
        caret-color: var(--dark-neutral-text); /* Ensure caret color is light */
    }

    /* General dark theme styles for form inputs, textareas, and selects */
    .form-group input,
    .form-group textarea,
    .form-group select {
        background-color: var(--dark-neutral-light); /* Dark background */
        border-color: var(--dark-neutral-border);   /* Dark theme border */
        color: var(--dark-neutral-text);          /* Light text */
    }
    /* Ensure :focus styles are also applied */
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
        border-color: var(--dark-primary);
        box-shadow: 0 0 0 3px var(--form-focus-glow-dark);
    }


    .homepage-value-prop .value-prop-container {
        background-color: var(--dark-glass-bg); /* Use dark glass for consistency */
        border-color: var(--dark-neutral-border);
    }
    .homepage-value-prop .value-prop-headline h3 {
        color: var(--dark-neutral-text);
    }
    .homepage-value-prop .value-prop-text p {
        color: var(--dark-muted-text);
    }
    .homepage-value-prop .learn-more-link {
        color: var(--dark-primary);
    }
    .homepage-value-prop .learn-more-link:hover {
        color: var(--dark-primary-hover);
    }
    .homepage-final-cta {
      background: linear-gradient(135deg, rgba(var(--dark-primary-rgb), 0.06) 0%, rgba(var(--dark-neutral-light), 0.07) 100%), var(--dark-neutral-container);
      border-top-color: var(--dark-divider-color);
    }
    .homepage-final-cta h4 {
        color: var(--dark-neutral-text);
    }
    .homepage-final-cta p {
        color: var(--dark-muted-text);
    }
    /* UPDATED: Ensure header navigation links are visible in dark theme */
    #desktop-nav-menu-id a {
        color: var(--dark-muted-text); /* Use the brighter muted text */
    }
    #desktop-nav-menu-id a:hover {
        color: var(--dark-neutral-text);
        background-color: rgba(var(--dark-primary-rgb), 0.07);
    }
    #desktop-nav-menu-id a.active {
        color: var(--dark-neutral-text);
        background-color: rgba(var(--dark-primary-rgb), 0.1);
    }
    #desktop-nav-menu-id a.auth-link.signup-link.btn {
        background-color: transparent;
        color: var(--dark-primary);
        border-color: var(--dark-primary);
    }
    #desktop-nav-menu-id a.signup-link.btn:hover {
        background-color: var(--dark-primary);
        color: var(--dark-neutral-bg);
        border-color: var(--dark-primary);
    }
    #desktop-nav-menu-id a.auth-link.logout-link.btn {
        color: var(--dark-muted-text);
        background-color: transparent;
        border: 1.5px solid var(--dark-neutral-border);
    }
    #desktop-nav-menu-id a.auth-link.logout-link.btn:hover {
        color: var(--tertiary-accent);
        border-color: var(--tertiary-accent);
        background-color: rgba(249, 50, 90, 0.1);
    }
    #desktop-nav-menu-id .profile-icon-btn {
        color: var(--dark-muted-text); /* Use brighter muted text for icon */
    }
    #desktop-nav-menu-id .profile-icon-btn:hover {
        color: var(--dark-primary);
    }
    .template-option-card {
        background-color: var(--dark-neutral-light);
        border-color: var(--dark-neutral-border);
    }
    .template-option-card:hover {
        border-color: var(--dark-primary);
        background-color: #16161A;
    }
    .template-option-card .template-name {
        color: var(--dark-neutral-text);
    }
    .template-option-card .template-description {
        color: var(--dark-muted-text);
    }
    .template-thumbnail {
        background-color: var(--dark-neutral-container);
        border-color: var(--dark-neutral-border);
    }
    .thumb-header, .thumb-header-sm, .thumb-header-alt { color: var(--dark-neutral-text); }
    .thumb-line.bg-muted { background-color: var(--dark-subtle-text); }
    .thumb-line.bg-primary { background-color: var(--dark-primary); opacity: 0.6; }
    .thumb-sidebar, .thumb-sidebar-alt { background-color: rgba(var(--dark-neutral-light), 0.5); }
    .thumb-avatar { background-color: var(--dark-subtle-text); }

    /* CV Preview Actions */
    .cv-preview-actions {
        background-color: rgba(var(--dark-neutral-text), 0.05);
        border-color: var(--dark-divider-color);
    }
    /* CV Preview Content Area */
    .cv-preview-page-wrapper .cv-preview-content {
        border-color: var(--dark-neutral-border);
        background-color: var(--dark-neutral-container);
        color: var(--dark-neutral-text); /* General text color for the preview content */
    }
     .cv-preview-container .cv-section h3 { color: var(--dark-primary); border-bottom-color: var(--dark-primary); }
     .cv-preview-container .entry { border-bottom-color: var(--dark-neutral-border); }
     .cv-preview-container .entry h4 { color: var(--dark-neutral-text); }
     .cv-preview-container .description { color: var(--dark-neutral-text); }
     .cv-preview-container .no-data { color: var(--muted-text); }
     .cv-preview-container .icon { color: var(--dark-primary); }

     .template-classic .cv-header-classic h1 { color: var(--dark-neutral-text); }
     .template-classic .professional-title-classic { color: var(--muted-text); }

     .template-modern .cv-modern-layout { display: flex; gap: var(--space-lg); }
     .template-modern .cv-modern-sidebar { width: 33%; padding-right: var(--space-lg); border-right: 1px solid var(--divider-color); background-color: var(--dark-neutral-light); padding: var(--space-md); border-radius: var(--radius-sm); }
     .template-modern .cv-modern-sidebar h3 { font-size: 1.2em; color: var(--dark-primary); margin-top: 0; margin-bottom: var(--space-sm); padding-bottom: 0; border-bottom: none;}
     .template-modern .cv-modern-sidebar .sidebar-section-title { margin-top: var(--space-lg); border-top: 1px solid var(--dark-divider-color); padding-top: var(--space-md);}
     .template-modern .cv-modern-sidebar p { color: var(--dark-neutral-text); }
     .template-modern .cv-modern-sidebar .skills-list { list-style: none; padding-left: 0; font-size: 0.9em;}
     .template-modern .cv-modern-sidebar .skills-list li { margin-bottom: var(--space-xs); background-color: var(--dark-neutral-bg); border-color: var(--dark-neutral-border); color: var(--dark-neutral-text); }
     .template-modern .cv-modern-main { width: 67%; padding-left: var(--space-lg); }
     .cv-header-modern h1 { font-size: 2.2em; margin-bottom: var(--space-xs); color: var(--dark-neutral-text); }
     .professional-title-modern { font-size: 1.2em; color: var(--muted-text); margin-bottom: var(--space-lg); font-weight: 500; }
     @media (max-width: 768px) {
         .template-modern .cv-modern-layout { flex-direction: column; }
         .template-modern .cv-modern-sidebar, .template-modern .cv-modern-main { width: 100%; border-right: none; padding-right: 0; padding-left: 0; }
         .template-modern .cv-modern-sidebar { border-bottom: 1px solid var(--divider-color); padding-bottom: var(--space-lg); margin-bottom: var(--space-lg); }
     }


     .template-professional .cv-header-professional { border-bottom-color: var(--dark-neutral-text); }
     .template-professional .cv-header-professional h1 { color: var(--dark-neutral-text); }
     .template-professional .professional-title-main { color: var(--muted-text); }
     .form-section {
        background-color: var(--dark-neutral-light);
        border-color: var(--dark-neutral-border);
        box-shadow: 0 3px 8px rgba(0,0,0,0.25);
    }
    .form-section h3 {
        color: var(--dark-primary);
        border-bottom-color: var(--dark-divider-color);
    }
    .form-field-description { color: var(--muted-text); }

    /* Dark theme specific for CV List Items */
    .cv-item {
        background-color: var(--dark-neutral-light); /* Ensure dark background */
        border-color: var(--dark-neutral-border); /* Ensure dark border */
        color: var(--dark-neutral-text); /* Ensure light text for the item itself */
        box-shadow: 0 2px 6px rgba(0,0,0,0.2), 0 1px 3px rgba(0,0,0,0.15);
    }
    .cv-item:hover {
        background-color: #1A1A1D; /* Ensure hover background is also dark */
        border-color: var(--dark-primary);
        box-shadow: 0 3px 8px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.1);
    }
    /* Text color for specific children within .cv-item should still be handled by these more specific rules or the global * rule */
    .cv-item-main-info strong {
        color: var(--dark-neutral-text); /* Ensure this is light */
    }
    .cv-item-main-info .cv-template,
    .cv-item-main-info .cv-last-updated {
        color: var(--dark-muted-text); /* Use brighter muted text for template and last updated */
    }
     .cv-info .cv-last-updated { /* This is a more specific selector if needed */
        color: var(--dark-subtle-text); /* Use the new, lighter subtle text */
    }
    .cv-item .cv-actions .btn-icon {
        color: var(--dark-muted-text);
        background-color: transparent;
    }
     .cv-item .cv-actions .btn-icon:hover {
        color: var(--dark-primary);
        background-color: rgba(var(--dark-primary-rgb), 0.1);
     }
     .cv-item .cv-actions .btn-icon.delete:hover {
        color: var(--tertiary-accent); /* This was already tertiary, should be fine */
        background-color: rgba(249, 50, 90, 0.1);
     }
     .empty-state-container {
        border-color: var(--dark-divider-color);
     }
     .empty-state-icon {
        color: var(--dark-subtle-text);
     }
     .list-controls-header .form-group label {
        color: var(--dark-muted-text);
     }
     .list-controls-header .form-group input,
     .list-controls-header .form-group select {
        background-color: var(--dark-neutral-light);
        border-color: var(--dark-neutral-border);
        color: var(--dark-neutral-text);
     }
     .modal-content {
        background-color: var(--dark-neutral-container);
        border: 1px solid var(--dark-neutral-border);
        box-shadow: 0 10px 30px rgba(0,0,0,0.45), 0 25px 80px rgba(var(--dark-primary-rgb), 0.15);
     }
      .modal-title { color: var(--dark-neutral-text); }
      .modal-close-button { color: var(--dark-muted-text); }
      .modal-close-button:hover { color: var(--dark-neutral-text); background-color: rgba(255,255,255,0.08); }

    /* Specific elements that should be muted or subtle AFTER the broad rule */
    .form-intro-text,
    .page-intro-text,
    .form-field-description,
    .form-alternate-action,
    .cv-preview-content .no-data,
    .template-classic .professional-title-classic,
    .template-classic .personal-details-classic .info-label,
    .template-classic .personal-details-classic .info-address .info-label, /* Added for consistency */
    .template-classic .company-duration,
    .template-classic .school-graduation,
    .template-modern .professional-title-modern,
    .template-professional .professional-title-main,
    .template-professional .company-duration, /* Corrected typo: company_duration to company-duration */
    .template-professional .school,
    .template-professional .graduation-year, /* Corrected typo: graduation_year to graduation-year */
    .modal-close-button,
    .list-controls-header .form-group label,
    footer.site-footer p /* Changed from footer.footer p for consistency */
     {
        color: var(--muted-text); /* Light theme default */
    }
    body.dark-theme .form-intro-text,
    body.dark-theme .page-intro-text,
    body.dark-theme .form-field-description,
    body.dark-theme .form-alternate-action,
    body.dark-theme .cv-preview-content .no-data,
    body.dark-theme .template-classic .professional-title-classic,
    body.dark-theme .template-classic .personal-details-classic .info-label,
    body.dark-theme .template-classic .personal-details-classic .info-address .info-label, /* Added for consistency */
    body.dark-theme .template-classic .company-duration,
    body.dark-theme .template-classic .school-graduation,
    body.dark-theme .template-modern .professional-title-modern,
    body.dark-theme .template-professional .professional-title-main,
    body.dark-theme .template-professional .company-duration, /* Corrected typo */
    body.dark-theme .template-professional .school,
    body.dark-theme .template-professional .graduation-year, /* Corrected typo */
    body.dark-theme .modal-close-button,
    body.dark-theme .list-controls-header .form-group label,
    body.dark-theme footer.site-footer p /* Changed for consistency */
     {
        color: var(--dark-muted-text);
    }


     /* Specific elements that should be subtle text */
     .empty-state-icon
     {
        color: var(--subtle-text);
     }
     body.dark-theme .empty-state-icon {
        color: var(--dark-subtle-text);
     }

     /* Specific elements that should be primary color */
     .cv-item-icon,
     .cv-preview-content .cv-section h3,
     .cv-preview-content .icon,
     .template-modern .cv-modern-sidebar h3,
     .cv-form .form-section h3 {
        color: var(--primary);
     }
     body.dark-theme .cv-item-icon,
     body.dark-theme .cv-preview-content .cv-section h3,
     body.dark-theme .cv-preview-content .icon,
     body.dark-theme .template-modern .cv-modern-sidebar h3,
     body.dark-theme .cv-form .form-section h3 {
        color: var(--dark-primary);
     }

     /* Links in dark theme */
     a { color: var(--primary); }
     a:hover { color: var(--primary-hover); }
     .form-alternate-action a { color: var(--primary); }
     a:hover { color: var(--primary-hover); }

     body.dark-theme a { color: var(--dark-primary); }
     body.dark-theme a:hover { color: var(--dark-primary-hover); }
     body.dark-theme .form-alternate-action a { color: var(--dark-primary); }
     body.dark-theme .form-alternate-action a:hover { color: var(--dark-primary-hover); }


    /* Fix: Ensure page titles are light in dark theme - Placed at the end for highest precedence */
    .page-container h2,
    .template-selection-page-container h2,
    .cv-list-container h2,
    .cv-preview-page-wrapper h2,
    .cv-form h2,
    .profile-container h2 {
        color: var(--neutral-text); /* Set to light text color */
    }
    body.dark-theme .page-container h2,
    body.dark-theme .template-selection-page-container h2,
    body.dark-theme .cv-list-container h2,
    body.dark-theme .cv-preview-page-wrapper h2,
    body.dark-theme .cv-form h2,
    body.dark-theme .profile-container h2 {
        color: var(--dark-neutral-text);
    }
}


/* Base styles */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; }
body {
    font-family: var(--font-main);
    color: var(--neutral-text);
    line-height: 1.6;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    width: 100%;
    overflow-x: hidden;
    overflow-y: auto;
    background: radial-gradient(ellipse 70% 40% at top left, var(--bg-gradient-start) 0%, var(--bg-gradient-middle) 70%, var(--bg-gradient-end) 100%) var(--neutral-bg);
    background-attachment: fixed;
    position: relative; /* Ensure body creates a stacking context */
    z-index: 0; /* Optional, but ensures it's a clear base */
    transition-property: background-color, color, filter; /* Added filter for blur transition */
    transition-duration: var(--theme-transition-duration);
    transition-timing-function: ease-in-out;
}

/* Standardized transitions for common elements */
body, header, footer,
.login-form-container, .signup-form-container, .contact-form-container, .cv-form,
.template-selection-page-container, .cv-list-container, .cv-preview-page-wrapper, .page-container, .profile-container,
.feature-item, .value-prop-container, .template-option-card, .cv-item, .step-item,
.form-group input, .form-group textarea, .form-group select,
.btn, a.btn, button,
.modal-content, .modal-title, .modal-close-button,
.message
 {
    transition-property: color, background-color, border-color, box-shadow, transform, opacity, filter; /* Added filter */
    transition-duration: var(--theme-transition-duration), 0.4s, 0.4s, 0.4s, 0.4s, 0.4s, 0.4s;
    transition-timing-function: ease-in-out, var(--animation-ease-out), var(--animation-ease-out), var(--animation-ease-out), var(--animation-ease-out), ease-out, ease-out;
}
body::after {
    transition: background-image var(--theme-transition-duration) ease-in-out, opacity var(--theme-transition-duration) ease-in-out;
}

/* Animated background gradient for mood shift */
body {
    background-size: 200% 200%; /* Make gradient larger than viewport */
    animation: background-pan-light 15s ease infinite alternate;
}

body.dark-theme {
    animation: background-pan-dark 15s ease infinite alternate;
}

@keyframes background-pan-light {
    0% { background-position: 0% 0%; }
    100% { background-position: 100% 100%; }
}

@keyframes background-pan-dark {
    0% { background-position: 100% 100%; }
    100% { background-position: 0% 0%; }
}


body::after {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    background-image: radial-gradient(rgba(0,0,0,0.02) 1px, transparent 1px);
    background-size: 8px 8px;
    opacity: 0.4;
}
body.dark-theme::after {
    background-image: radial-gradient(rgba(255,255,255,0.015) 1px, transparent 1px);
    opacity: 0.5;
}

/* Header Styling */
header {
    background: rgba(249, 250, 251, 0.95);
    backdrop-filter: blur(20px) saturate(150%);
    -webkit-backdrop-filter: blur(20px) saturate(150%);
    padding: 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    position: sticky; top: 0; z-index: 100; width: 100%;
    transition: background-color var(--theme-transition-duration) ease-in-out, box-shadow var(--theme-transition-duration) ease-in-out;
}
header.scrolled {
    background: var(--header-bg-scrolled);
    box-shadow: var(--header-shadow-scrolled);
    border-bottom-color: transparent;
}
body.dark-theme header.scrolled {
    background: var(--dark-header-bg-scrolled);
    box-shadow: var(--dark-header-shadow-scrolled);
}

.header-content-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1280px;
    margin: 0 auto;
    padding: var(--space-xs) var(--space-lg); /* Reduced vertical padding */
    height: 60px; /* Explicit height for compact header */
}
.logo-link { text-decoration: none; display: flex; align-items: center; }

.logo-box {
    display: flex;
    align-items: center;
    gap: var(--space-sm); /* Reduced gap */
}

.gemini-icon {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 40px; /* Smaller icon */
    height: 40px; /* Smaller icon */
    font-size: 24px; /* Smaller font size */
    border-radius: var(--radius-sm);
    background: linear-gradient(45deg, var(--primary), var(--secondary-accent));
    color: var(--neutral-light);
    font-weight: 700;
    transition: transform 0.3s var(--animation-ease-out);
}
.gemini-icon:hover {
    transform: scale(1.15) rotate(5deg);
}

.logo-text h1 {
    font-size: 1.4em; /* Smaller font size */
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--neutral-text);
    margin: 0;
    padding-left: 8px; /* Adjusted padding */
}
body.dark-theme .logo-text h1 { color: var(--dark-neutral-text); }

.header .logo-text .header-subtitle {
    font-size: 0.7em; /* Smaller font size */
    color: var(--muted-text);
    margin: 0;
    line-height: 1.2;
    padding-left: 10px; /* Adjusted padding */
}
body.dark-theme .header .logo-text .header-subtitle {
    color: var(--dark-muted-text);
}

.header-actions-group {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

#desktop-nav-menu-id {
    display: none;
    align-items: center;
    gap: var(--space-md);
    margin-left: 30%
}
/* Header navigation links */
#desktop-nav-menu-id a {
    text-decoration: none;
    color: var(--muted-text);
    font-size: 0.95em;
    font-weight: 500;
    padding: var(--space-xs) var(--space-sm); /* Reduced padding */
    border-radius: var(--radius-sm);
    transition: color 0.2s ease, background-color 0.2s ease;
    position: relative;
    /* Ensure content is centered if there are complex elements inside links */
    display: flex;
    align-items: center;
    justify-content: center;
}
/* Animated underline for desktop nav links */
#desktop-nav-menu-id a::after {
    content: '';
    position: absolute;
    bottom: var(--link-underline-offset);
    left: var(--space-sm); /* Adjusted to match new padding */
    width: calc(100% - (var(--space-sm) * 2)); /* Adjusted to match new padding */
    height: var(--link-underline-thickness);
    background-color: var(--link-underline-color);
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s var(--animation-ease-out);
    border-radius: 1px;
}
#desktop-nav-menu-id a:hover::after,
#desktop-nav-menu-id a.active::after {
    transform: scaleX(1);
    transform-origin: bottom left;
}
body.dark-theme #desktop-nav-menu-id a::after {
    background-color: var(--link-underline-color-dark);
}


#desktop-nav-menu-id a:hover, #desktop-nav-menu-id a.active {
    color: var(--neutral-text);
    background-color: rgba(var(--primary-rgb), 0.07);
}
#desktop-nav-menu-id a.auth-link.signup-link.btn {
    color: var(--primary);
    background-color: transparent;
    border: 1.5px solid var(--primary);
    padding: 4px 12px; /* Adjusted padding for a smaller height */
    font-weight: 500;
    transition: all 0.3s ease;
}
#desktop-nav-menu-id a.auth-link.signup-link.btn:hover {
    color: var(--neutral-light);
    background-color: var(--primary);
    border-color: var(--primary);
}

#desktop-nav-menu-id a.auth-link.logout-link.btn {
    color: var(--muted-text);
    background-color: transparent;
    border: 1.5px solid var(--neutral-border);
    padding: 4px 12px; /* Adjusted padding for a smaller height */
    transition: all 0.3s ease;
}
body.dark-theme #desktop-nav-menu-id a.auth-link.logout-link.btn {
    color: var(--dark-muted-text);
    border-color: var(--dark-neutral-border);
}
body.dark-theme #desktop-nav-menu-id a.auth-link.logout-link.btn:hover {
    color: var(--tertiary-accent);
    border-color: var(--tertiary-accent);
    background-color: rgba(249, 50, 90, 0.1);
}

#desktop-nav-menu-id .profile-icon-btn {
    font-size: 1.2em; /* Adjusted for better fit within the fixed size */
    padding: 0; /* Removed padding as width/height are fixed */
    width: 36px; /* Fixed width for consistent sizing */
    height: 36px; /* Fixed height for consistent sizing */
    display: flex; /* Enable flexbox for centering content */
    align-items: center; /* Vertically center icon */
    justify-content: center; /* Horizontally center icon */
    border-radius: var(--radius-sm); /* Maintain consistent border-radius */
    color: var(--muted-text); /* Ensure color is explicitly set */
    transition: color 0.2s ease, background-color 0.2s ease;
}
body.dark-theme #desktop-nav-menu-id .profile-icon-btn {
    color: var(--dark-muted-text);
    filter: brightness(1.2);
}
body.dark-theme #desktop-nav-menu-id .profile-icon-btn:hover {
    color: var(--primary);
    background: none;
}
body.dark-theme #desktop-nav-menu-id .profile-icon-btn:hover {
    color: var(--dark-primary);
     filter: none;
}

/* Theme Toggle Button */
#theme-toggle-button {
    background: none;
    border: none;
    font-size: 1.3em; /* Adjusted for better fit within the fixed size */
    cursor: pointer;
    padding: 0; /* Removed padding as width/height are fixed */
    width: 36px; /* Fixed width for consistent sizing */
    height: 36px; /* Fixed height for consistent sizing */
    display: flex; /* Enable flexbox for centering content */
    align-items: center; /* Vertically center icon */
    justify-content: center; /* Horizontally center icon */
    border-radius: var(--radius-sm); /* Maintain consistent border-radius */
    color: var(--neutral-text); /* Ensure color is explicitly set */
    transition: color 0.2s ease, transform 0.2s ease, background-color 0.2s ease;
}
#theme-toggle-button:hover {
    transform: scale(1.1);
}
body.dark-theme #theme-toggle-button {
    color: var(--dark-neutral-text);
}


#mobile-menu-toggle {
    background: none; border: none;
    font-size: 1.6em;
    cursor: pointer; padding: var(--space-xs);
    display: block;
    z-index: 101;
    color: var(--neutral-text);
    transition: color 0.2s ease;
}
body.dark-theme #mobile-menu-toggle { color: var(--dark-neutral-text); }


.mobile-nav-menu {
    display: none;
    flex-direction: column;
    background-color: var(--neutral-light);
    position: absolute;
    top: 100%;
    left: 0; right: 0;
    box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    padding: var(--space-sm) 0;
    z-index: 99;
    border-top: 1px solid var(--divider-color);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-out;
}
.mobile-nav-menu.open {
    display: flex;
}
.mobile-nav-menu a {
    display: block;
    padding: var(--space-md) var(--space-lg);
    text-decoration: none;
    color: var(--neutral-text);
    font-size: 1.05em;
    border-bottom: 1px solid var(--divider-color);
    transition: background-color 0.2s ease;
}
.mobile-nav-menu a:last-child { border-bottom: none; }
.mobile-nav-menu a:hover { background-color: rgba(var(--primary-rgb), 0.05); }

body.dark-theme .mobile-nav-menu {
    background-color: var(--dark-neutral-container);
    border-top-color: var(--dark-divider-color);
}
body.dark-theme .mobile-nav-menu a {
    color: var(--dark-neutral-text);
    border-bottom-color: var(--dark-divider-color);
}
body.dark-theme .mobile-nav-menu a:hover { background-color: rgba(var(--dark-primary-rgb), 0.1); }


@media (min-width: 992px) {
    #desktop-nav-menu-id { display: flex; }
    #mobile-menu-toggle { display: none; }
    .mobile-only { display: none !important; }
    .desktop-only { display: inline-block !important; }
    .mobile-nav-menu { display: none !important; }
}


/* Form Container Specifics */
.login-form-container, .signup-form-container, .contact-form-container, .cv-form {
    padding: var(--space-xl) var(--space-lg);
    max-width: 700px;
    margin-left: auto; margin-right: auto;
    margin-top: var(--space-xl);
    margin-bottom: var(--space-xl);
}
.contact-form-container {
    max-width: 700px;
}


.form-intro-text, .page-intro-text {
    font-size: 1em;
    color: var(--muted-text);
    text-align: center;
    margin-bottom: var(--space-lg);
    line-height: 1.5;
    max-width: 600px;
    margin-left: auto; margin-right: auto;
}
body.dark-theme .form-intro-text, body.dark-theme .page-intro-text {
    color: var(--dark-muted-text);
}

.form-group {
    margin-bottom: var(--space-md);
}
.form-group label {
    font-weight: 500;
    font-size: 0.9em;
    margin-bottom: var(--space-xs);
    display: block;
    color: var(--neutral-text);
}
body.dark-theme .form-group label { color: var(--dark-neutral-text); }

.form-group input, .form-group textarea, .form-group select {
    padding: var(--space-sm) var(--space-md);
    font-size: 1em;
    width: 100%;
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius-sm);
    background-color: var(--neutral-light);
    color: var(--neutral-text);
    transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, color 0.3s ease;
}
.form-group input:focus, .form-group textarea:focus, .form-group select:focus {
    border-color: var(--primary);
    outline: none;
    box-shadow: 0 0 0 1px var(--form-focus-glow-light);
}
body.dark-theme .form-group input:focus, body.dark-theme .form-group textarea:focus, body.dark-theme .form-group select:focus {
    border-color: var(--dark-primary);
    box-shadow: 0 0 0 3px var(--form-focus-glow-dark);
}
/* Enhanced focus-visible for accessibility */
.form-group input:focus-visible,
.form-group textarea:focus-visible,
.form-group select:focus-visible,
.btn:focus-visible,
a.btn:focus-visible,
button:focus-visible,
#theme-toggle-button:focus-visible,
#mobile-menu-toggle:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.3);
}
body.dark-theme .form-group input:focus-visible,
body.dark-theme .form-group textarea:focus-visible,
body.dark-theme .form-group select:focus-visible,
body.dark-theme .btn:focus-visible,
body.dark-theme a.btn:focus-visible,
body.dark-theme button:focus-visible,
body.dark-theme #theme-toggle-button:focus-visible,
body.dark-theme #mobile-menu-toggle:focus-visible {
    outline: 2px solid var(--dark-primary);
    box-shadow: 0 0 0 4px rgba(var(--dark-primary-rgb), 0.4);
}


.input-icon-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}
.input-icon-wrapper input {
    padding-left: var(--space-xl);
}
.input-icon {
    position: absolute;
    left: var(--space-sm);
    color: var(--muted-text);
    font-size: 1em;
}
body.dark-theme .input-icon { color: var(--dark-muted-text); }


.form-group textarea {
    min-height: 100px;
    line-height: 1.5;
}
.form-field-description { font-size:0.85em; color: var(--muted-text); margin-top: var(--space-xs); }
body.dark-theme .form-field-description { color: var(--dark-muted-text); }


.btn-primary-form {
    width: 100%;
    padding: var(--space-md);
    font-size: 1.05em;
    font-weight: 600;
    margin-top: var(--space-sm);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}
.icon-right {
    margin-left: var(--space-xs);
    transition: transform 0.2s ease;
}
.btn-primary-form:hover .icon-right {
    transform: translateX(3px);
}


.form-alternate-action {
    text-align: center;
    margin-top: var(--space-lg);
    font-size: 0.9em;
    color: var(--muted-text);
}
.form-alternate-action a {
    color: var(--primary);
    font-weight: 500;
    text-decoration: none;
    transition: color 0.2s ease, text-decoration 0.2s ease;
    position: relative; /* For animated underline */
}
/* Animated underline for form alternate action links */
.form-alternate-action a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: var(--link-underline-thickness);
    background-color: var(--link-underline-color);
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s var(--animation-ease-out);
    border-radius: 1px;
}
.form-alternate-action a:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
}
body.dark-theme .form-alternate-action a::after {
    background-color: var(--link-underline-color-dark);
}

.form-alternate-action a:hover {
    text-decoration: none; /* Removed default underline to use custom one */
}
body.dark-theme .form-alternate-action {
    color: var(--dark-muted-text);
}
body.dark-theme .form-alternate-action a {
    color: var(--dark-primary);
}
.form-actions-sticky {
    margin-top: var(--space-xl);
    padding-top: var(--space-lg);
    border-top: 1px solid var(--divider-color);
    display: flex;
    justify-content: space-between;
    align-items:center;
    flex-wrap: wrap;
    gap: var(--space-md);
}
body.dark-theme .form-actions-sticky {
    border-top-color: var(--dark-divider-color);
}


/* --- Homepage Specific Styles --- */
.homepage-content-wrapper {
    padding-top: 0;
    padding-bottom: var(--space-xxl);
    background: transparent;
    border: none;
    box-shadow: none;
    max-width: 1200px;
    margin: var(--space-xl) auto;
    position: relative;
    z-index: 2;
}

.homepage-hero {
    text-align: center;
    padding: var(--space-hero-padding-top) var(--space-lg) var(--space-hero-padding-bottom) var(--space-lg);
    margin-bottom: var(--space-section-vertical);
    position: relative;
    overflow: hidden;
}

.hero-bg-decoration {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 100%; max-width: 1400px;
    height: 1000px;
    background: radial-gradient(ellipse at center, rgba(var(--primary-rgb), 0.07) 0%, transparent 70%);
    border-radius: 50%;
    z-index: -1;
    opacity: 0.9;
    filter: blur(100px);
     animation: pulse-glow 12s infinite alternate ease-in-out;
}
body.dark-theme .hero-bg-decoration {
    background: radial-gradient(ellipse at center, rgba(var(--dark-primary-rgb), 0.15) 0%, transparent 70%);
    opacity: 0.8;
}

@keyframes pulse-glow {
    0% { transform: translate(-50%, -50%) scale(1); opacity: 0.9; }
    100% { transform: translate(-50%, -50%) scale(1.1) rotate(2deg); opacity: 0.8; }
}


.homepage-hero h2 {
    font-size: clamp(3em, 7.5vw, 5em);
    font-weight: 800;
    margin-bottom: var(--space-lg);
    letter-spacing: -0.06em;
    color: var(--neutral-text);
    line-height: 1.0;
}
.homepage-hero h2::after { display: none; }

.desktop-only { display: none; }
@media (min-width: 768px) { .desktop-only { display: block; } }


body.dark-theme .homepage-hero h2 { color: var(--dark-neutral-text); }

.homepage-hero p {
    font-size: clamp(1.15em, 3vw, 1.5em);
    color: var(--muted-text);
    margin-bottom: var(--space-xl);
    max-width: 750px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.7;
}
 body.dark-theme .homepage-hero p { color: var(--dark-muted-text); }

.hero-cta-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-md);
    margin-top: var(--space-xl);
}
@media (min-width: 768px) { .hero-cta-container { flex-direction: row; justify-content: center; } }

.homepage-hero .btn-create {
    padding: calc(var(--space-md) + 5px) calc(var(--space-xl) + 10px);
    font-size: clamp(1.15em, 2.6vw, 1.3em);
    width: auto;
    min-width: 280px;
    box-shadow: 0 6px 15px rgba(var(--primary-rgb), 0.28), 0 2px 5px rgba(0,0,0,0.08);
    transition: all 0.4s var(--animation-ease-out);
}
body.dark-theme .homepage-hero .btn-create {
    box-shadow: 0 6px 15px rgba(var(--dark-primary-rgb), 0.35), 0 2px 5px rgba(0,0,0,0.15);
}
body.dark-theme .homepage-hero .btn-create:hover {
    box-shadow: 0 9px 22px rgba(var(--primary-rgb), 0.35), 0 5px 10px rgba(0,0,0,0.1);
}
body.dark-theme .homepage-hero .btn-create:hover {
    box-shadow: 0 9px 22px rgba(var(--dark-primary-rgb), 0.4), 0 5px 10px rgba(0,0,0,0.2);
}


.hero-visual-element {
    margin-top: calc(var(--space-xxl) + var(--space-sm));
    opacity: 1;
    color: var(--neutral-border);
    padding: var(--space-md);
    background-color: rgba(var(--primary-rgb), 0.01);
    border-radius: var(--radius);
    border: 1px solid rgba(var(--primary-rgb), 0.03);
    max-width: 550px;
    margin-left: auto;
    margin-right: auto;
}
body.dark-theme .hero-visual-element {
    color: var(--dark-neutral-border);
    background-color: rgba(var(--dark-primary-rgb), 0.02);
    border: 1px solid rgba(var(--dark-primary-rgb), 0.06);
}
.hero-visual-element svg {
    display: block; margin: 0 auto; max-width: 100%;
}

/* "How it Works" Section */
.homepage-how-it-works {
    padding: var(--space-section-vertical) var(--space-lg);
    margin-bottom: var(--space-section-vertical);
    text-align: center;
}
.homepage-how-it-works h3 {
    font-size: clamp(2em, 4.5vw, 3em);
    font-weight: 700;
    color: var(--neutral-text);
    line-height: 1.2;
    letter-spacing: -0.035em;
    margin-bottom: var(--space-xl);
}
body.dark-theme .homepage-how-it-works h3 { color: var(--dark-neutral-text); }

.how-it-works-steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-xl);
    margin-top: var(--space-lg);
}

.step-item {
    background: var(--neutral-light);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius);
    padding: var(--space-xl);
    text-align: center;
    box-shadow: var(--shadow-light);
    transition: all 0.4s var(--animation-ease-out);
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    overflow: hidden;
    /* Tilt effect properties */
    transform-style: preserve-3d;
    transform: perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1));
    will-change: transform; /* Optimize for animation */
}
body.dark-theme .step-item {
    background: var(--dark-neutral-light);
    border-color: var(--dark-neutral-border);
    box-shadow: 0 2px 6px rgba(0,0,0,0.2), 0 1px 3px rgba(0,0,0,0.15);
}
.step-item:hover {
     transform: translateY(-3px) perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1)); /* Subtle lift */
     box-shadow: var(--shadow-hover);
     border-color: var(--primary);
}
body.dark-theme .step-item:hover {
    border-color: var(--dark-primary);
    box-shadow: 0 4px 10px rgba(0,0,0,0.25), 0 2px 5px rgba(0,0,0,0.15); /* Keep base hover shadow */
}


.step-icon-wrapper {
    width: 65px;
    height: 65px;
    border-radius: 50%;
    background-color: rgba(var(--primary-rgb), 0.07);
    display: inline-flex;
    align-items: center; justify-content: center;
    margin-bottom: var(--space-md);
    transition: background-color 0.2s ease, transform 0.4s ease;
}
body.dark-theme .step-icon-wrapper { background-color: rgba(var(--dark-primary-rgb), 0.1); }
.step-item:hover .step-icon-wrapper {
    transform: scale(1.15) rotate(5deg); /* Kept a subtle rotation for icons */
}


.step-item i {
    font-size: 2em;
    color: var(--primary);
}
body.dark-theme .step-item i { color: var(--dark-primary); }

.step-item h4 {
    font-size: 1.25em;
    font-weight: 600;
    color: var(--neutral-text);
    margin-bottom: var(--space-sm);
    line-height: 1.3;
}
body.dark-theme .step-item h4 { color: var(--dark-neutral-text); }

.step-item p {
    font-size: 1em;
    color: var(--muted-text);
    line-height: 1.6;
    flex-grow: 1;
}
body.dark-theme .step-item p { color: var(--dark-muted-text); }

@media (min-width: 768px) {
    .how-it-works-steps {
        position: relative;
        padding-bottom: 30px;
    }
    .how-it-works-steps::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: calc(100% - var(--space-xl) * 2);
        height: 2px;
        background-color: var(--divider-color);
        z-index: 0;
    }
    body.dark-theme .how-it-works-steps::before { background-color: var(--dark-divider-color); }

    .step-item {
        padding-bottom: calc(var(--space-xl) + 30px);
    }
    .step-item::after {
        content: '';
        position: absolute;
        bottom: 18px;
        left: 50%;
        transform: translateX(-50%);
        width: 12px;
        height: 12px;
        background-color: var(--primary);
        border-radius: 50%;
        border: 3px solid var(--neutral-light);
        z-index: 1;
    }
    body.dark-theme .step-item::after {
        background-color: var(--dark-primary);
        border-color: var(--dark-neutral-light);
    }
}


/* Value Proposition Section */
.homepage-value-prop {
    padding: var(--space-section-vertical) var(--space-lg);
    margin-bottom: var(--space-section-vertical);
}
.value-prop-container {
    background-color: rgba(var(--primary-rgb), 0.03);
    border: 1px solid rgba(var(--primary-rgb), 0.06);
    border-radius: var(--radius);
    padding: var(--space-xl);
    max-width: 1000px;
    margin: 0 auto;
}
body.dark-theme .value-prop-container {
    background-color: var(--dark-glass-bg);
    border-color: var(--dark-neutral-border);
}

.value-prop-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-lg);
    align-items: center;
}

@media (min-width: 768px) {
    .value-prop-grid {
        grid-template-columns: 1fr 1.5fr;
        gap: var(--space-xl);
    }
}

.value-prop-headline h3 {
    font-size: clamp(2em, 4.5vw, 3em);
    font-weight: 700;
    color: var(--neutral-text);
    line-height: 1.2;
    letter-spacing: -0.035em;
    margin: 0;
}
body.dark-theme .value-prop-headline h3 {
    color: var(--dark-neutral-text);
}

.value-prop-text p {
    font-size: clamp(1em, 2vw, 1.1em);
    color: var(--muted-text);
    line-height: 1.7;
    margin-bottom: var(--space-md);
}
.value-prop-text p:last-child {
    margin-bottom: 0;
}
body.dark-theme .value-prop-text p { color: var(--dark-muted-text); }


.learn-more-link {
    display: inline-block;
    margin-top: var(--space-md);
    color: var(--primary);
    text-decoration: none;
    font-weight: 500;
    font-size: 1em;
    transition: color 0.2s ease, transform 0.2s ease;
    position: relative; /* For animated underline */
}
/* Animated underline for learn more links */
.learn-more-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: var(--link-underline-thickness);
    background-color: var(--link-underline-color);
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s var(--animation-ease-out);
    border-radius: 1px;
}
.learn-more-link:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
}
body.dark-theme .learn-more-link::after {
    background-color: var(--link-underline-color-dark);
}

.learn-more-link i {
    margin-left: var(--space-xs);
    transition: transform 0.2s ease;
}
.learn-more-link:hover {
    color: var(--primary-hover);
    text-decoration: none; /* Removed default underline */
}
.learn-more-link:hover i {
    transform: translateX(4px);
}

body.dark-theme .learn-more-link { color: var(--dark-primary); }
body.dark-theme .learn-more-link:hover { color: var(--dark-primary-hover); }


.homepage-features {
    margin-top: 0;
    padding-top: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
    margin-bottom: var(--space-xxl);
    max-width: 1100px;
    margin-left: auto; margin-right: auto;
    padding: 0 var(--space-lg);
}

.feature-item {
    background: var(--neutral-light);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius);
    padding: var(--space-xl);
    text-align: left;
    box-shadow: var(--shadow-light);
    transition: all 0.4s var(--animation-ease-out);
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    /* Tilt effect properties */
    transform-style: preserve-3d;
    transform: perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1));
    will-change: transform; /* Optimize for animation */
}
.feature-item:hover {
    transform: translateY(-3px) perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1)); /* Subtle lift */
    box-shadow: var(--shadow-hover);
    border-color: var(--primary);
}
body.dark-theme .feature-item:hover {
    background: #1A1A1D;
    border-color: var(--dark-primary);
    box-shadow: 0 4px 10px rgba(0,0,0,0.25), 0 2px 5px rgba(0,0,0,0.15); /* Keep base hover shadow */
}


.feature-icon-wrapper {
    width: 58px;
    height: 58px;
    border-radius: var(--radius-sm);
    background-color: rgba(var(--primary-rgb), 0.07);
    display: inline-flex;
    align-items: center; justify-content: center;
    margin-bottom: var(--space-lg);
    transition: background-color 0.2s ease, transform 0.4s ease;
}
body.dark-theme .feature-icon-wrapper { background-color: rgba(var(--dark-primary-rgb), 0.1); }
.feature-item:hover .feature-icon-wrapper {
    transform: scale(1.15) rotate(-5deg); /* Kept a subtle rotation for icons */
}


.feature-item i {
    font-size: 1.8em;
    color: var(--primary);
}
body.dark-theme .feature-item i { color: var(--dark-primary); }


.feature-item h3 {
    font-size: 1.35em;
    font-weight: 600;
    color: var(--neutral-text);
    margin-bottom: var(--space-sm);
    line-height: 1.35;
}
body.dark-theme .feature-item h3 { color: var(--dark-neutral-text); }


.feature-item p {
    font-size: 1.05em;
    color: var(--muted-text);
    line-height: 1.65;
    flex-grow: 1;
}
body.dark-theme .feature-item p { color: var(--dark-muted-text); }

/* Homepage Final CTA Section */
.homepage-final-cta {
    padding: var(--space-xxl) var(--space-lg);
    text-align: center;
    background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.04) 0%, rgba(var(--secondary-accent), 0.03) 100%), var(--neutral-bg);
    margin-top: var(--space-section-vertical);
    border-top: 1px solid var(--divider-color);
}
body.dark-theme .homepage-final-cta {
      background: linear-gradient(135deg, rgba(var(--dark-primary-rgb), 0.08) 0%, rgba(var(--dark-neutral-light), 0.09) 100%), var(--dark-neutral-container);
      border-top-color: var(--dark-divider-color);
    }

.homepage-final-cta .cta-content {
    max-width: 700px;
    margin: 0 auto;
}
.homepage-final-cta h4 {
    font-size: clamp(1.8em, 4vw, 2.5em);
    font-weight: 700;
    color: var(--neutral-text);
    margin-bottom: var(--space-md);
    line-height: 1.2;
}
body.dark-theme .homepage-final-cta h4 { color: var(--dark-neutral-text); }

.homepage-final-cta p {
    font-size: clamp(1em, 2.2vw, 1.15em);
    color: var(--muted-text);
    margin-bottom: var(--space-xl);
    line-height: 1.6;
}
body.dark-theme .homepage-final-cta p { color: var(--dark-muted-text); }

.homepage-final-cta .btn-large {
    padding: calc(var(--space-md) + 6px) calc(var(--space-xl) + 12px);
    font-size: clamp(1.2em, 2.8vw, 1.4em);
    min-width: 300px;
    transition: all 0.4s var(--animation-ease-out);
}

/* General Page/Form Container Styling */
.login-form-container, .signup-form-container, .contact-form-container, .cv-form, .template-selection-page-container, .cv-list-container, .cv-preview-page-wrapper, .page-container, .profile-container {
    max-width: 950px;
    margin: var(--space-xl) auto;
    padding: var(--space-xl);
    background: var(--neutral-light);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-light);
    position: relative;
    overflow: hidden;
    z-index: 2;
    transition: all 0.4s var(--animation-ease-out);
    /* Tilt effect properties */
    transform-style: preserve-3d;
    transform: perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1));
    will-change: transform; /* Optimize for animation */
}
.login-form-container:hover, .signup-form-container:hover, .contact-form-container:hover, .cv-form:hover, .cv-list-container:hover, .cv-preview-page-wrapper:hover, .page-container:hover, .profile-container:hover {
     border-color: var(--primary);
     box-shadow: var(--shadow-hover);
}


/* Removed .glow-container and its :before pseudo-element */


/* Ripple Effect for Buttons */
.btn, a.btn, button {
    position: relative;
    overflow: hidden;
    /* Ensure text is above the ripple */
    z-index: 1;
}

.btn .ripple, a.btn .ripple, button .ripple {
    position: absolute;
    border-radius: 50%;
    transform: scale(0);
    animation: ripple-effect 0.6s linear; /* Faster, more punchy ripple */
    background-color: var(--button-ripple-color);
    z-index: 0;
    pointer-events: none; /* Ensure it doesn't block clicks */
}

body.dark-theme .btn .ripple, body.dark-theme a.btn .ripple, body.dark-theme button .ripple {
    background-color: var(--button-ripple-color-dark);
}

@keyframes ripple-effect {
    to {
        transform: scale(2.5); /* Increased scale for a bigger ripple */
        opacity: 0;
    }
}

/* Button press animation (subtle scale down) */
.button-press-animation {
    animation: buttonPress 0.15s ease-out;
}

@keyframes buttonPress {
    0% { transform: scale(1); }
    50% { transform: scale(0.98); }
    100% { transform: scale(1); }
}


.cv-list-container, .cv-preview-page-wrapper {
    max-width: 1100px;
}

/* Page Titles within Containers */
.page-container h2, .template-selection-page-container h2, .cv-list-container h2, .cv-preview-page-wrapper h2, .cv-form h2, .profile-container h2 {
    text-align: center;
    padding-bottom: var(--space-md);
    margin-bottom: var(--space-lg);
    border-bottom: 1px solid var(--divider-color);
    position: relative;
    color: var(--neutral-text);
}
.page-container h2::after, .template-selection-page-container h2::after, .cv-list-container h2::after, .cv-preview-page-wrapper h2::after, .cv-form h2::after, .profile-container h2::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 4px;
    background: linear-gradient(to right, var(--primary), var(--secondary-accent));
    border-radius: 2px;
}
body.dark-theme .page-container h2::after, body.dark-theme .template-selection-page-container h2::after, body.dark-theme .cv-list-container h2::after, body.dark-theme .cv-preview-page-wrapper h2::after, body.dark-theme .cv-form h2::after, body.dark-theme .profile-container h2::after {
    background: linear-gradient(to right, var(--dark-primary), var(--dark-secondary-accent));
}

/* General Page Content Styling (for pages like Terms, Policies, FAQ, Contact) */
.page-container h1 {
    font-size: 2.5em;
    font-weight: 700;
    color: var(--neutral-text);
    margin-bottom: var(--space-lg);
    text-align: center;
    line-height: 1.2;
    letter-spacing: -0.03em;
}

.page-container h3 {
    font-size: 1.8em;
    font-weight: 600;
    color: var(--primary);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-md);
    line-height: 1.3;
}

.page-container h4 {
    font-size: 1.3em;
    font-weight: 600;
    color: var(--neutral-text);
    margin-top: var(--space-lg);
    margin-bottom: var(--space-sm);
    line-height: 1.4;
}

.page-container p {
    font-size: 1em;
    color: var(--neutral-text);
    line-height: 1.7;
    margin-bottom: var(--space-md);
}

.page-container ul,
.page-container ol {
    margin-bottom: var(--space-md);
    padding-left: var(--space-lg);
    color: var(--neutral-text);
}

.page-container ul li,
.page-container ol li {
    margin-bottom: var(--space-xs);
    line-height: 1.6;
}

.page-container a {
    color: var(--primary);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
    position: relative;
}

.page-container a:hover {
    color: var(--primary-hover);
    text-decoration: none;
}

.page-container a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: var(--link-underline-thickness);
    background-color: var(--link-underline-color);
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s var(--animation-ease-out);
    border-radius: 1px;
}

.page-container a:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
}

.page-container blockquote {
    border-left: 4px solid var(--primary);
    padding-left: var(--space-md);
    margin: var(--space-md) 0;
    font-style: italic;
    color: var(--muted-text);
}

.page-container hr {
    border: none;
    border-top: 1px solid var(--divider-color);
    margin: var(--space-xl) 0;
}

/* Content block for internal sections within pages */
.page-container .content-block {
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius-sm);
    background-color: var(--neutral-bg);
}

/* Dark Theme Overrides for General Page Content */
body.dark-theme .page-container h1 {
    color: var(--dark-neutral-text);
}

body.dark-theme .page-container h3 {
    color: var(--dark-primary);
}

body.dark-theme .page-container h4 {
    color: var(--dark-neutral-text);
}

body.dark-theme .page-container p {
    color: var(--dark-neutral-text);
}

body.dark-theme .page-container ul,
body.dark-theme .page-container ol {
    color: var(--dark-neutral-text);
}

body.dark-theme .page-container a {
    color: var(--dark-primary);
}

body.dark-theme .page-container a:hover {
    color: var(--dark-primary-hover);
}

body.dark-theme .page-container a::after {
    background-color: var(--dark-link-underline-color);
}

body.dark-theme .page-container blockquote {
    border-left-color: var(--dark-primary);
    color: var(--dark-muted-text);
}

body.dark-theme .page-container hr {
    border-top-color: var(--dark-divider-color);
}

body.dark-theme .page-container .content-block {
    border-color: var(--dark-neutral-border);
    background-color: var(--dark-neutral-light);
}

/* Specific styling for Contact/FAQ/Policies/Terms pages for better visual appeal */
.page-container.static-content h1 {
    font-size: clamp(2.5em, 5vw, 3.5em);
    margin-bottom: var(--space-xl);
    position: relative;
    padding-bottom: var(--space-md);
}

.page-container.static-content h1::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 5px;
    background: linear-gradient(to right, var(--primary), var(--secondary-accent));
    border-radius: 2.5px;
}

body.dark-theme .page-container.static-content h1::after {
    background: linear-gradient(to right, var(--dark-primary), var(--dark-secondary-accent));
}

.page-container.static-content h3 {
    font-size: clamp(1.6em, 3.5vw, 2.2em);
    color: var(--primary);
    margin-top: var(--space-xxl);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--divider-color);
}

body.dark-theme .page-container.static-content h3 {
    color: var(--dark-primary);
    border-bottom-color: var(--dark-divider-color);
}

.page-container.static-content h4 {
    font-size: clamp(1.2em, 2.5vw, 1.5em);
    color: var(--neutral-text);
    margin-top: var(--space-lg);
    margin-bottom: var(--space-sm);
}

body.dark-theme .page-container.static-content h4 {
    color: var(--dark-neutral-text);
}

.page-container.static-content p {
    color: var(--muted-text);
    line-height: 1.8;
}

body.dark-theme .page-container.static-content p {
    color: var(--dark-muted-text);
}

.page-container.static-content ul,
.page-container.static-content ol {
    background-color: var(--neutral-bg);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius-sm);
    padding: var(--space-md) var(--space-lg);
    margin-top: var(--space-md);
    margin-bottom: var(--space-lg);
}

body.dark-theme .page-container.static-content ul,
body.dark-theme .page-container.static-content ol {
    background-color: var(--dark-neutral-light);
    border-color: var(--dark-neutral-border);
}

.page-container.static-content ul li::before {
    content: '•'; /* Custom bullet point */
    color: var(--primary);
    font-weight: bold;
    display: inline-block;
    width: 1em;
    margin-left: -1em;
}

body.dark-theme .page-container.static-content ul li::before {
    color: var(--dark-primary);
}

/* Contact Page specific enhancements */
.contact-info-block {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-xl);
    text-align: center;
}

.contact-info-item {
    background-color: var(--neutral-light);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius);
    padding: var(--space-lg);
    box-shadow: var(--shadow-light);
    transition: all 0.3s ease;
}

.contact-info-item:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-hover);
    border-color: var(--primary);
}

.contact-info-item i {
    font-size: 2.5em;
    color: var(--primary);
    margin-bottom: var(--space-sm);
}

.contact-info-item h4 {
    font-size: 1.2em;
    color: var(--neutral-text);
    margin-bottom: var(--space-xs);
    }

.contact-info-item p {
    font-size: 0.95em;
    color: var(--muted-text);
    margin: 0;
}

body.dark-theme .contact-info-item {
    background-color: var(--dark-neutral-light);
    border-color: var(--dark-neutral-border);
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

body.dark-theme .contact-info-item:hover {
    border-color: var(--dark-primary);
    box-shadow: 0 4px 10px rgba(0,0,0,0.25);
}

body.dark-theme .contact-info-item i {
    color: var(--dark-primary);
}

body.dark-theme .contact-info-item h4 {
    color: var(--dark-neutral-text);
}

body.dark-theme .contact-info-item p {
    color: var(--dark-muted-text);
}


/* Template Selection Page Styles */
.template-options-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-lg);
    margin-top: var(--space-lg);
}
.template-option-card {
    text-decoration: none;
    color: var(--neutral-text);
    background-color: var(--neutral-light);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius);
    padding: var(--space-md);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    box-shadow: var(--shadow-light);
    transition: all 0.4s var(--animation-ease-out);
    position: relative;
    overflow: hidden;
    /* Tilt effect properties */
    transform-style: preserve-3d;
    transform: perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1));
    will-change: transform; /* Optimize for animation */
}
.template-option-card:hover {
    transform: translateY(-3px) perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1)); /* Subtle lift */
    box-shadow: var(--shadow-hover);
    border-color: var(--primary);
}
body.dark-theme .template-option-card:hover {
    border-color: var(--dark-primary);
    background-color: #16161A;
    box-shadow: 0 4px 10px rgba(0,0,0,0.25), 0 2px 5px rgba(0,0,0,0.15); /* Keep base hover shadow */
}

.template-thumbnail {
    width: 100%;
    height: 220px;
    background-color: var(--neutral-bg);
    border: 1px solid var(--divider-color);
    border-radius: var(--radius-sm);
    margin-bottom: var(--space-md);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: var(--space-sm);
    overflow: hidden;
    font-size: 0.8em;
    color: var(--muted-text);
}
body.dark-theme .template-thumbnail {
    background-color: var(--dark-neutral-container);
    border-color: var(--dark-divider-color);
    color: var(--dark-muted-text);
}

.thumb-header, .thumb-header-sm, .thumb-header-alt { font-weight: bold; margin-bottom: var(--space-xs); font-size: 1.1em; color: var(--neutral-text); }
.thumb-line { height: 6px; border-radius: 3px; margin-bottom: 4px; }
.thumb-line.bg-muted { background-color: var(--subtle-text); }
.thumb-line.bg-primary { background-color: var(--primary); opacity: 0.7; }
.thumb-line.w-50 { width: 50%; } .thumb-line.w-60 { width: 60%; } .thumb-line.w-70 { width: 70%; }
.thumb-line.w-80 { width: 80%; } .thumb-line.w-90 { width: 90%; } .thumb-line.w-full { width: 100%; }
.thumb-line.mx-auto { margin-left: auto; margin-right: auto; }
.thumb-line.mt-sm { margin-top: var(--space-xs); } .thumb-line.mb-sm { margin-bottom: var(--space-xs); }

body.dark-theme .thumb-header, body.dark-theme .thumb-header-sm, body.dark-theme .thumb-header-alt { color: var(--dark-neutral-text); }
body.dark-theme .thumb-line.bg-muted { background-color: var(--dark-subtle-text); }
body.dark-theme .thumb-line.bg-primary { background-color: var(--dark-primary); opacity: 0.6; }


.thumb-modern-layout { display: flex; width: 100%; height: 100%; gap: var(--space-xs); }
.thumb-sidebar { flex: 1; background-color: rgba(0,0,0,0.03); padding: var(--space-xs); border-radius: var(--radius-sm); }
.thumb-main-content { flex: 2; padding: var(--space-xs); }
.thumb-avatar { width: 30px; height: 30px; border-radius: 50%; background-color: var(--subtle-text); margin: 0 auto var(--space-xs); }
.thumb-sidebar-alt { flex: 1; padding: var(--space-xs); }
.thumb-main-content-alt { flex: 2; padding: var(--space-xs); }

body.dark-theme .thumb-sidebar, body.dark-theme .thumb-sidebar-alt { background-color: rgba(var(--dark-neutral-light), 0.5); }
body.dark-theme .thumb-avatar { background-color: var(--dark-subtle-text); }


/* CV List Page Specifics */
.cv-list-container .filter-sort-area {
    margin-bottom: var(--space-xl);
    display: flex;
    gap: var(--space-lg);
    align-items: center;
    flex-wrap: wrap;
}
.cv-list-container .filter-sort-area .form-group {
    margin-bottom: 0;
    flex-grow: 1;
    min-width: 200px;
}
body.dark-theme .cv-list-container .filter-sort-area .form-group label { color: var(--dark-muted-text); }
/* UPDATED: Ensure input/select text is light in dark theme */
body.dark-theme .list-controls-header .form-group input,
body.dark-theme .list-controls-header .form-group select {
    background-color: var(--dark-neutral-light);
    border-color: var(--dark-neutral-border);
    color: var(--dark-neutral-text); /* Force light text color */
}

.list-controls-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
    flex-wrap: wrap;
    gap: var(--space-md);
}

.empty-state-container {
    text-align: center;
    padding: var(--space-xxl) var(--space-lg);
    border: 2px dashed var(--divider-color);
    border-radius: var(--radius);
    margin-top: var(--space-lg);
}
body.dark-theme .empty-state-container { border-color: var(--dark-divider-color); }

.empty-state-icon {
    font-size: 3.5em;
    color: var(--subtle-text);
    margin-bottom: var(--space-md);
}
body.dark-theme .empty-state-icon { color: var(--dark-subtle-text); }

.cv-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
}

/* CV List Item Layout - Primary Definition */
.cv-item {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    background-color: var(--neutral-light); /* Light theme base */
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius);
    padding: var(--space-md);
    box-shadow: var(--shadow-light);
    transition: all 0.3s var(--animation-ease-out);
    position: relative;
    overflow: hidden;
    flex-wrap: wrap;
    /* Tilt effect properties */
    transform-style: preserve-3d;
    transform: perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1));
    will-change: transform; /* Optimize for animation */
}
.cv-item:hover {
    transform: translateY(-3px) perspective(1000px) rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg)) scale(var(--scale, 1)); /* Subtle lift */
    box-shadow: var(--shadow-hover);
     border-color: var(--primary);
}
/* Dark theme styles for .cv-item are handled in the body.dark-theme section */
body.dark-theme .cv-item:hover {
    box-shadow: 0 3px 8px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.1); /* Keep base hover shadow */
}

.cv-item-main-info {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    flex-grow: 1;
    min-width: 0;
}

.cv-item-icon {
    font-size: 1.8em;
    color: var(--primary); /* Light theme base */
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    flex-shrink: 0;
}
/* Dark theme for .cv-item-icon is in body.dark-theme section */

.cv-info {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    min-width: 0;
}
.cv-info strong {
    font-weight: 600;
    font-size: 1.15em;
    color: var(--neutral-text); /* Light theme base */
}
/* Dark theme for .cv-info strong is in body.dark-theme section */

.cv-info span {
    font-size: 1em;
    color: var(--muted-text); /* Light theme base */
}
/* Dark theme for .cv-info span is in body.dark-theme section */

.cv-info .cv-template {
    margin-top: 2px;
}
.cv-info .cv-last-updated {
    font-size: 0.95em;
    color: var(--subtle-text); /* Light theme base */
    margin-top: 2px;
}
/* Dark theme for .cv-info .cv-last-updated is in body.dark-theme section */


.cv-actions {
    display: flex;
    gap: var(--space-sm);
    flex-shrink: 0;
    margin-left: auto;
}
.cv-actions .btn-icon {
    padding: var(--space-xs);
    font-size: 1.3em;
    color: var(--muted-text); /* Light theme base */
    background-color: transparent;
    border: none;
    border-radius: var(--radius-sm);
    transition: all 0.2s ease-out;
}
.cv-actions .btn-icon:hover {
    color: var(--primary);
    background-color: rgba(var(--primary-rgb), 0.1);
    transform: translateY(-2px);
}
.cv-actions .btn-icon.delete:hover {
    color: var(--tertiary-accent);
    background-color: rgba(249, 50, 90, 0.1);
}
/* Dark theme for .cv-actions .btn-icon is in body.dark-theme section */

.loading-spinner {
    text-align: center; margin: var(--space-xl) 0; font-size: 1.8em;
    color: var(--primary);
    animation: spin 1s linear infinite;
}
body.dark-theme .loading-spinner { color: var(--dark-primary); }

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}


.no-cvs-message {
    text-align: center; color: var(--muted-text); font-style: italic; margin-top: var(--space-md);
}
body.dark-theme .no-cvs-message { color: var(--dark-muted-text); }


/* CV Preview Page Specifics - Primary Definition */
.cv-preview-actions {
    margin-top: 0;
    margin-bottom: var(--space-lg);
    padding: var(--space-md);
    background-color: rgba(var(--neutral-text), 0.03); /* Light theme base */
    border-radius: var(--radius);
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-md);
    flex-wrap: wrap;
    border: 1px solid var(--divider-color);
}
/* Dark theme for .cv-preview-actions is in body.dark-theme section */

.cv-preview-page-wrapper .cv-preview-content {
    padding: var(--space-lg);
    border: 1px solid var(--neutral-border);
    border-radius: var(--radius);
    background-color: var(--neutral-light); /* Light theme base */
    box-shadow: var(--shadow-light);
    margin-top: var(--space-lg);
}
/* Dark theme for .cv-preview-page-wrapper .cv-preview-content is in body.dark-theme section */

/* Base for all template previews within .cv-preview-content (already defined, ensure consistency) */
.cv-preview-content .cv-section { margin-bottom: var(--space-lg); padding-bottom: var(--space-md); }
.cv-preview-content .cv-section:last-child { margin-bottom: 0; padding-bottom: 0;}
.cv-preview-content .cv-section h3 { font-size: 1.4em; color: var(--primary); margin-bottom: var(--space-md); padding-bottom: var(--space-xs); border-bottom: 2px solid var(--primary); }
.cv-preview-content .entry { margin-bottom: var(--space-md); padding-bottom: var(--space-sm); border-bottom: 1px dashed var(--neutral-border); }
.cv-preview-content .entry:last-child { border-bottom: none; margin-bottom: 0; }
.cv-preview-content .entry h4 { font-size: 1.1em; margin-bottom: var(--space-xs); color: var(--neutral-text); font-weight: 600; }
.cv-preview-content .description { color: var(--neutral-text); margin-top: var(--space-xs); font-size: 0.95em; line-height: 1.5; }
.cv-preview-content .no-data { color: var(--muted-text); font-style: italic; }
.cv-preview-content .icon { margin-right: 8px; color: var(--primary); width: 1em; text-align: center;}
/* Dark theme overrides for these are in the body.dark-theme section */


/* Classic Template Preview Styles */
.template-classic .cv-header-classic { text-align: center; margin-bottom: var(--space-lg); }
.template-classic .cv-header-classic h1 { font-size: 2.4em; color: var(--neutral-text); margin-bottom: var(--space-xs); font-weight: 600; }
.template-classic .professional-title-classic { font-size: 1.3em; color: var(--muted-text); margin-top: 0; margin-bottom: var(--space-md); font-weight: 400; }
.template-classic .personal-details-classic .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-sm); }
.template-classic .personal-details-classic .info-item { margin-bottom: var(--space-xs); }
.template-classic .personal-details-classic .info-label { font-weight: bold; color: var(--muted-text); margin-right: var(--space-xs); }
.template-classic .personal-details-classic .info-address .info-label { display: block; margin-bottom: 2px;}
.template-classic .company-duration, .template-classic .school-graduation { color: var(--muted-text); font-size: 0.9em; margin-top: -5px; margin-bottom: 8px;}
/* Dark theme overrides are in body.dark-theme section */


/* Modern Template Preview Styles */
.template-modern .cv-modern-layout { display: flex; gap: var(--space-lg); }
.template-modern .cv-modern-sidebar { width: 33%; padding-right: var(--space-lg); border-right: 1px solid var(--divider-color); background-color: var(--neutral-bg); padding: var(--space-md); border-radius: var(--radius-sm); }
.template-modern .cv-modern-sidebar h3 { font-size: 1.2em; color: var(--primary); margin-top: 0; margin-bottom: var(--space-sm); padding-bottom: 0; border-bottom: none;}
.template-modern .cv-modern-sidebar .sidebar-section-title { margin-top: var(--space-lg); border-top: 1px solid var(--divider-color); padding-top: var(--space-md);}
.template-modern .cv-modern-sidebar p { margin-bottom: var(--space-sm); font-size: 0.9em; line-height: 1.5; }
.template-modern .cv-modern-sidebar .skills-list { list-style: none; padding-left: 0; font-size: 0.9em;}
.template-modern .cv-modern-sidebar .skills-list li { margin-bottom: var(--space-xs); background-color: var(--neutral-light); padding: 6px 10px; border-radius: var(--radius-sm); border: 1px solid var(--neutral-border);}
.template-modern .cv-modern-main { width: 67%; padding-left: var(--space-lg); }
.template-modern .cv-header-modern h1 { font-size: 2.2em; margin-bottom: var(--space-xs); color: var(--neutral-text); }
.template-modern .professional-title-modern { font-size: 1.2em; color: var(--muted-text); margin-bottom: var(--space-lg); font-weight: 500; }
@media (max-width: 768px) {
    .template-modern .cv-modern-layout { flex-direction: column; }
    .template-modern .cv-modern-sidebar, .template-modern .cv-modern-main { width: 100%; border-right: none; padding-right: 0; padding-left: 0; }
    .template-modern .cv-modern-sidebar { border-bottom: 1px solid var(--divider-color); padding-bottom: var(--space-lg); margin-bottom: var(--space-lg); }
}
/* Dark theme overrides are in body.dark-theme section */


/* Professional Template Preview Styles */
.template-professional .cv-header-professional { text-align: center; margin-bottom: var(--space-xl); padding-bottom: var(--space-md); border-bottom: 2px solid var(--neutral-text); }
.template-professional .cv-header-professional h1 { font-size: 2.6em; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 2px; color: var(--neutral-text); font-weight: 700; }
.template-professional .professional-title-main { font-size: 1.3em; text-transform: uppercase; color: var(--muted-text); letter-spacing: 1px; margin-top: var(--space-xs); font-weight: 500;}
.template-professional .cv-professional-layout { display: flex; gap: var(--space-xl); }
.template-professional .cv-professional-left { width: 35%; padding-right: var(--space-lg); }
.template-professional .cv-professional-right { width: 65%; }
.template-professional .cv-professional-left .cv-section h3, .template-professional .cv-professional-right .cv-section h3 {
    font-size: 1.1em; text-transform: uppercase; letter-spacing: 0.8px; color: var(--neutral-text); font-weight: 600;
    border-bottom: 1px solid var(--neutral-border); padding-bottom: var(--space-xs); margin-bottom: var(--space-md);
}
body.dark-theme .template-professional .cv-professional-left .cv-section h3, body.dark-theme .template-professional .cv-professional-right .cv-section h3 {
    color: var(--dark-neutral-text); border-bottom-color: var(--dark-neutral-border);
}
.template-professional .cv-professional-left p, .template-professional .cv-professional-left .skills-list-prof li { font-size: 0.9em; margin-bottom: var(--space-sm); line-height: 1.5; color: var(--neutral-text); }
.template-professional .cv-professional-left .skills-list-prof { list-style: none; padding-left: 0; }
.template-professional .cv-professional-right .entry h4 { font-size: 1.15em; margin-bottom: 3px; color: var(--neutral-text); font-weight: 600; }
.template-professional .cv-professional-right .company-duration { font-size: 0.95em; color: var(--muted-text); margin-bottom: var(--space-sm); font-style: italic; }
.template-professional .cv-professional-right .description-points { list-style: disc; padding-left: var(--space-md); margin-top: var(--space-xs); font-size: 0.9em; line-height: 1.6; }
.template-professional .school, .template-professional .graduation-year { font-size: 0.9em; color: var(--muted-text); }
.template-professional .school { font-weight: 500; }
@media (max-width: 768px) {
    .template-professional .cv-professional-layout { flex-direction: column; }
    .template-professional .cv-professional-left, .template-professional .cv-professional-right { width: 100%; padding-right: 0; }
    .template-professional .cv-professional-left { margin-bottom: var(--space-lg); }
}
/* Dark theme overrides are in body.dark-theme section */


/* Text Unveil Animation */
.reveal-on-scroll {
    opacity: 0;
    filter: blur(10px);
    transform: translateY(60px);
    transition-property: opacity, filter, transform;
    transition-duration: var(--animation-reveal-duration);
    transition-timing-function: var(--animation-ease-out);
    will-change: opacity, filter, transform;
}
.reveal-on-scroll.is-visible {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
}
.reveal-on-scroll.reveal-left { transform: translateX(-60px); }
.reveal-on-scroll.reveal-left.is-visible { transform: translateX(0); }
.reveal-on-scroll.reveal-scale { transform: scale(0.7); }
.reveal-on-scroll.reveal-scale.is-visible { transform: scale(1); }


/* Profile Page Specific Styles */
.profile-container {
    max-width: 800px; /* Retaining the previous width adjustment */
}
.profile-layout-grid {
    /* Increased the vertical gap between grid items (sections) */
    gap: var(--space-xl); /* Changed from var(--space-lg) */
    margin-bottom: var(--space-lg); /* Keep existing margin */
}
@media (max-width: 768px) {
    .profile-layout-grid {
         /* Adjust for mobile if needed, but keeping consistent with desktop for now */
         gap: var(--space-lg); /* Revert to smaller gap on mobile for tighter layout */
         margin-bottom: var(--space-lg);
    }
     .profile-section {
        /* Adjust for mobile if needed, but keeping consistent with desktop for now */
        padding: var(--space-lg); /* Revert to smaller padding on mobile for tighter layout */
     }
}


.profile-section {
    /* Increased the internal padding of each profile section */
    padding: var(--space-xl); /* Changed from var(--space-lg) */
    background-color: var(--neutral-light);
    border-radius: var(--radius);
    border: 1px solid var(--neutral-border);
    box-shadow: var(--shadow-light);
}
/* Dark theme adjustments for consistency */
body.dark-theme .profile-layout-grid {
    gap: var(--space-xl); /* Ensure dark theme also uses increased gap */
}

body.dark-theme .profile-section {
    background-color: var(--dark-neutral-light);
    border-color: var(--dark-neutral-border);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    padding: var(--space-xl); /* Ensure dark theme also uses increased padding */
}

.profile-section h3 {
    margin-top: 0;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--divider-color);
    font-size: 1.25em;
    font-weight: 600;
    color: var(--primary);
}
body.dark-theme .profile-section h3 {
    color: var(--dark-primary);
    border-bottom-color: var(--dark-divider-color);
}

.profile-detail {
    margin-bottom: var(--space-sm);
    font-size: 1em;
    color: var(--neutral-text);
}
body.dark-theme .profile-detail {
    color: var(--dark-neutral-text);
}
.profile-detail strong {
    color: var(--muted-text);
    font-weight: 500;
    margin-right: var(--space-xs);
}
body.dark-theme .profile-detail strong {
    color: var(--dark-muted-text);
}

.theme-selector-group {
    display: flex;
    gap: var(--space-md);
    margin-top: var(--space-sm);
}
.theme-selector-group label {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    font-weight: normal;
    color: var(--muted-text);
    transition: color 0.2s ease;
}
.theme-selector-group label:hover {
    color: var(--primary);
}
body.dark-theme .theme-selector-group label {
     color: var(--dark-muted-text);
}
body.dark-theme .theme-selector-group label:hover {
     color: var(--dark-primary);
}

.theme-selector-group input[type="radio"] {
    margin-right: var(--space-xs);
    cursor: pointer;
}
.theme-selector-group i {
    margin-right: var(--space-xs);
    color: var(--primary);
}
body.dark-theme .theme-selector-group i {
    color: var(--dark-primary);
}

.profile-section.danger-zone {
    border-color: var(--tertiary-accent);
    background-color: rgba(249, 50, 90, 0.05);
}
body.dark-theme .profile-section.danger-zone {
    border-color: var(--tertiary-accent);
    background-color: rgba(249, 50, 90, 0.1);
}
.profile-section.danger-zone h3 {
    color: var(--tertiary-accent);
    border-bottom-color: rgba(249, 50, 90, 0.3);
}
body.dark-theme .profile-section.danger-zone h3 {
     border-bottom-color: rgba(249, 50, 90, 0.4);
}
.profile-section.danger-zone p {
    color: var(--muted-text);
    font-size: 0.95em;
    line-height: 1.5;
}
body.dark-theme .profile-section.danger-zone p {
     color: var(--dark-muted-text);
}


/* Responsive adjustments */
@media (max-width: 768px) {
    .header-content-wrapper {
        padding: var(--space-xs) var(--space-md); /* Adjusted for mobile */
        height: 50px; /* Slightly smaller height on mobile */
    }
    .homepage-hero {
        padding: var(--space-hero-padding-top) var(--space-md) var(--space-hero-padding-bottom) var(--space-md);
        margin-bottom: var(--space-xl);
    }
    .homepage-hero h2 { font-size: clamp(2.2em, 8vw, 3em); letter-spacing: -0.04em; }
    .homepage-hero p { font-size: clamp(1em, 3vw, 1.15em); }
    .homepage-hero .btn-create { font-size: clamp(1em, 2.8vw, 1.1em); padding: var(--space-md) var(--space-lg); min-width: 200px; }

    .hero-visual-element { margin-top: var(--space-xl); padding: var(--space-sm); }
    .hero-visual-element svg { width: 90%; max-width: 300px; }

    .homepage-how-it-works {
        padding: calc(var(--space-section-vertical) / 1.5) var(--space-md);
        margin-bottom: calc(var(--space-section-vertical) / 1.5);
    }
    .homepage-how-it-works h3 { font-size: clamp(1.8em, 6vw, 2.5em); }
    .how-it-works-steps { gap: var(--space-lg); }
    .step-item { padding: var(--space-lg); }
    .step-icon-wrapper { width: 52px; height: 52px; margin-bottom: var(--space-md); }
    .step-item i { font-size: 1.6em; }
    .step-item h4 { font-size: 1.15em; }
    .step-item p { font-size: 0.92em; }
    .how-it-works-steps::before, .step-item::after { display: none; }


    .homepage-features {
        gap: var(--space-lg);
        margin-top: var(--space-xl);
        margin-bottom: var(--space-xl);
        grid-template-columns: 1fr;
        padding: 0 var(--space-md);
    }
    .feature-item { padding: var(--space-lg); }
    .feature-icon-wrapper { width: 44px; height: 44px; margin-bottom: var(--space-md); }
    .feature-item i { font-size: 1.4em; }
    .feature-item h3 { font-size: 1.15em; }
    .feature-item p { font-size: 0.92em; }

    .login-form-container, .signup-form-container, .contact-form-container, .cv-form, .template-selection-page-container, .cv-list-container, .cv-preview-page-wrapper, .page-container, .profile-container {
        padding: var(--space-lg) var(--space-md);
        margin-top: var(--space-lg);
        margin-bottom: var(--space-lg);
    }
    .form-intro-text, .page-intro-text {
        font-size: 0.95em;
        margin-bottom: var(--space-md);
    }
    .btn-primary-form {
        padding: var(--space-md);
        font-size: 1em;
    }

    .homepage-value-prop {
        padding: calc(var(--space-section-vertical) / 1.5) var(--space-md);
        margin-bottom: calc(var(--space-section-vertical) / 1.5);
    }
    .value-prop-container {
        padding: var(--space-lg);
    }
    .value-prop-headline h3 {
        font-size: clamp(1.8em, 6vw, 2.5em);
        text-align: center;
        margin-bottom: var(--space-md);
    }
    .value-prop-text {
        text-align: center;
    }
    .value-prop-text p {
        font-size: clamp(0.95em, 2.5vw, 1.05em);
    }
    .learn-more-link {
        font-size: 0.95em;
    }

    .homepage-final-cta {
        padding: var(--space-xl) var(--space-md);
        margin-top: var(--space-xl);
    }
    .homepage-final-cta h4 {
        font-size: clamp(1.5em, 5vw, 2em);
    }
    .homepage-final-cta p {
        font-size: clamp(0.95em, 2.5vw, 1.05em);
        margin-bottom: var(--space-lg);
    }
    .homepage-final-cta .btn-large {
        padding: var(--space-md) var(--space-lg);
        font-size: clamp(1em, 2.8vw, 1.15em);
        min-width: 220px;
    }
    .page-container h2, .template-selection-page-container h2, .cv-list-container h2, .cv-preview-page-wrapper h2, .cv-form h2, .profile-container h2 {
        font-size: 1.5em;
    }
    .template-options-grid {
        grid-template-columns: 1fr;
    }
    .template-option-card {
        padding: var(--space-md);
    }
    .template-thumbnail {
        height: 180px;
    }
    .form-actions-sticky {
        flex-direction: column;
    }
    .form-actions-sticky .btn, .form-actions-sticky .btn-primary-form {
        width: 100%;
    }
    .cv-item { /* Mobile specific for cv-item layout */
        flex-direction: column; /* Stack items vertically on mobile */
        align-items: center; /* Center items when stacked */
        text-align: center;
    }
    .cv-item-main-info {
        flex-direction: column;
        text-align: center;
        gap: var(--space-xs);
        width: 100%; /* Take full width */
        align-items: center;
    }
    .cv-item-icon {
        margin-right: 0;
        margin-bottom: var(--space-sm);
        width: auto;
    }
    .cv-info {
        text-align: center;
        align-items: center;
    }
    .cv-actions {
        justify-content: center;
        width: 100%; /* Make actions take full width for centering */
        margin-top: var(--space-sm);
    }

    .modal-content {
        padding: var(--space-lg) var(--space-md);
    }
    .modal-title {
        font-size: 1.3em;
    }

    .profile-layout-grid {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
        margin-bottom: var(--space-lg);
    }
    .profile-section {
        margin-bottom: 0;
    }
}

/* Main content area */
main.main {
    flex-grow: 1;
    width: 100%;
    padding: var(--space-xl) var(--space-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative; /* Ensure it creates a stacking context */
    z-index: 1; /* Ensure it's above the background */
}
main.main > .animate-in {
    margin-left: auto;
    margin-right: auto;
}


/* Footer Styling */
footer.site-footer { /* Changed from footer.footer for consistency */
    width: 100%;
    margin-top: auto;
    padding: var(--space-xl) var(--space-lg); /* Adjusted padding */
    text-align: center;
    font-size: 0.9em;
    color: var(--muted-text);
    background: var(--neutral-bg); /* Light theme default */
    border-top: 1px solid var(--divider-color);
    flex-shrink: 0;
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
    transition: background-color var(--theme-transition-duration) ease-in-out, color var(--theme-transition-duration) ease-in-out, border-color var(--theme-transition-duration) ease-in-out, box-shadow var(--theme-transition-duration) ease-in-out;
}

/* Dark Theme Footer Overrides */
body.dark-theme footer.site-footer {
    background-color: var(--dark-neutral-bg); /* Dark theme background */
    color: var(--dark-muted-text); /* Dark theme text */
    border-top-color: var(--dark-neutral-border); /* Dark theme border */
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2); /* Darker shadow */
}

.footer-container {
    width: 90%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
}

.footer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    gap: 35px;
    margin-bottom: 40px;
}

.footer-column {
    /* No specific styles needed here unless for unique columns */
}

/* Logo and Brand */
.footer-logo-link {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    text-decoration: none;
    color: var(--neutral-text); /* Ensure consistent color for the link itself */
}
body.dark-theme .footer-logo-link {
    color: var(--dark-neutral-text);
}

.footer-gemini-icon {
    /* Replicate header's .gemini-icon styles */
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 50px;
    height: 50px;
    font-size: 30px;
    border-radius: var(--radius-sm);
    background: linear-gradient(45deg, var(--primary), var(--secondary-accent));
    color: var(--neutral-light);
    font-weight: 700;
    margin-right: 10px; /* Match header's padding-left for logo-text h1 */
    transition: background 0.3s ease, color 0.3s ease; /* Ensure smooth theme transition */
}
body.dark-theme .footer-gemini-icon {
    background: linear-gradient(45deg, var(--dark-primary), var(--dark-secondary-accent));
    color: var(--dark-neutral-text); /* Or keep it white if that's the design intent */
}


.footer-logo-text h3 { /* Styles for "CV Maker" in the footer */
    /* Replicate header's .logo-text h1 styles */
    font-size: 1.6em;
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--neutral-text);
    margin: 0;
    line-height: 1.2;
    /* No padding-left here, as it's handled by margin-right on .footer-gemini-icon */
    transition: color 0.3s ease;
}
body.dark-theme .footer-logo-text h3 {
    color: var(--dark-neutral-text);
}

.footer-subtitle { /* Styles for "Build your future" in the footer */
    /* Replicate header's .header-subtitle styles */
    font-size: 0.8em;
    color: var(--muted-text);
    margin: 0;
    line-height: 1.2;
    transition: color 0.3s ease;
}
body.dark-theme .footer-subtitle {
    color: var(--dark-muted-text);
}

.footer-about-text { /* This is the paragraph below the logo */
    font-size: 0.9em;
    line-height: 1.7;
    color: var(--muted-text);
    margin-top: 10px;
    transition: color 0.3s ease;
}
body.dark-theme .footer-about-text {
    color: var(--dark-muted-text);
}

/* Column Titles */
.footer-column-title {
    font-size: 1.15em;
    font-weight: 600;
    margin-bottom: 18px;
    color: var(--primary); /* Using primary color for titles */
    transition: color 0.3s ease;
}
body.dark-theme .footer-column-title {
    color: var(--dark-primary);
}

/* Links List */
.footer-links-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.footer-links-list li {
    margin-bottom: 10px;
}

.footer-links-list a {
    text-decoration: none;
    color: var(--muted-text); /* Muted text for links */
    font-size: 0.9em;
    transition: color 0.2s ease-in-out, padding-left 0.2s ease-in-out;
}

.footer-links-list a:hover {
    color: var(--primary); /* Primary color on hover */
    padding-left: 3px;
}
body.dark-theme .footer-links-list a {
    color: var(--dark-muted-text);
}
body.dark-theme .footer-links-list a:hover {
    color: var(--dark-primary);
}

/* Social Links */
.footer-social-links a {
    display: inline-block;
    margin-right: 18px;
    color: var(--muted-text); /* Muted text for icons */
    font-size: 1.3em;
    transition: color 0.2s ease-in-out, transform 0.2s ease-in-out;
}

.footer-social-links a:hover {
    color: var(--primary); /* Primary color on hover */
    transform: scale(1.1);
}

.footer-social-links a:last-child {
    margin-right: 0;
}
body.dark-theme .footer-social-links a {
    color: var(--dark-muted-text);
}
body.dark-theme .footer-social-links a:hover {
    color: var(--dark-primary);
}

/* Footer Bottom */
.footer-bottom {
    text-align: center;
    padding-top: 25px;
    border-top: 1px solid var(--divider-color);
    margin-top: 30px;
    transition: border-color 0.3s ease;
}
body.dark-theme .footer-bottom {
    border-top-color: var(--dark-divider-color);
}

.footer-copyright {
    font-size: 0.85em;
    color: var(--muted-text);
    margin-bottom: 5px;
    transition: color 0.3s ease;
}

.footer-tagline {
    font-size: 0.8em;
    color: var(--muted-text);
    transition: color 0.3s ease;
}
body.dark-theme .footer-copyright, body.dark-theme .footer-tagline {
    color: var(--dark-muted-text);
}

/* Ensure Font Awesome icons are styled if you're using them for social media */
.footer-social-links .fab {
    /* You might not need specific styles if they inherit color correctly */
}

/* Background CVs (Abstract Shapes) */
.background-cvs-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
    z-index: -2; /* Ensure it's behind everything */
    perspective: 1000px; /* For 3D transforms */
}

.background-cv {
    position: absolute;
    width: 180px; /* Fixed size for background elements */
    height: 250px;
    background-color: rgba(var(--primary-rgb), 0.03); /* Subtle primary tint */
    border: 1px solid rgba(var(--primary-rgb), 0.05);
    border-radius: var(--radius-sm);
    padding: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    opacity: 0.5; /* Very subtle opacity */
    will-change: transform, opacity; /* Optimize for animation */
    pointer-events: none; /* Ensure it doesn't block interaction */
    display: flex;
    flex-direction: column;
    gap: 8px;
    transition: background-color var(--theme-transition-duration) ease-in-out, border-color var(--theme-transition-duration) ease-in-out;
}

body.dark-theme .background-cv {
    background-color: rgba(var(--dark-primary-rgb), 0.03);
    border: 1px solid rgba(var(--dark-primary-rgb), 0.05);
}

.background-cv .header-placeholder {
    width: 80%;
    height: 15px;
    background-color: rgba(var(--primary-rgb), 0.1);
    border-radius: 3px;
    margin-bottom: 10px;
    transition: background-color var(--theme-transition-duration) ease-in-out;
}
body.dark-theme .background-cv .header-placeholder {
    background-color: rgba(var(--dark-primary-rgb), 0.1);
}

.background-cv .line-placeholder {
    height: 8px;
    background-color: rgba(var(--primary-rgb), 0.08);
    border-radius: 2px;
    margin-bottom: 4px;
    transition: background-color var(--theme-transition-duration) ease-in-out;
}
body.dark-theme .background-cv .line-placeholder {
    background-color: rgba(var(--dark-primary-rgb), 0.08);
}

.background-cv .block-placeholder {
    width: 70%;
    height: 40px;
    background-color: rgba(var(--primary-rgb), 0.06);
    border-radius: 5px;
    margin-top: 10px;
    transition: background-color var(--theme-transition-duration) ease-in-out;
}
body.dark-theme .background-cv .block-placeholder {
    background-color: rgba(var(--dark-primary-rgb), 0.06);
}

/* Keyframes for subtle, continuous movement and rotation */
@keyframes moveAndRotateSmooth1 {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.15;
    }
    25% {
        transform: translate(var(--move-x, 50px), var(--move-y, 30px)) rotate(var(--rotate-deg, 5deg)) scale(var(--scale, 1.05));
        opacity: 0.25;
    }
    50% {
        transform: translate(calc(var(--move-x, 50px) * 2), calc(var(--move-y, 30px) * -1)) rotate(calc(var(--rotate-deg, 5deg) * -1)) scale(var(--scale, 0.95));
        opacity: 0.15;
    }
    75% {
        transform: translate(var(--move-x, 50px), var(--move-y, 30px)) rotate(var(--rotate-deg, 5deg)) scale(var(--scale, 1.05));
        opacity: 0.25;
    }
    100% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.15;
    }
}

@keyframes moveAndRotateSmooth2 {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.2;
    }
    30% {
        transform: translate(var(--move-x, -40px), var(--move-y, 60px)) rotate(var(--rotate-deg, 10deg)) scale(var(--scale, 0.9));
        opacity: 0.3;
    }
    60% {
        transform: translate(calc(var(--move-x, -40px) * -1), calc(var(--move-y, 60px) * -1)) rotate(calc(var(--rotate-deg, 10deg) * -1)) scale(var(--scale, 1.1));
        opacity: 0.2;
    }
    100% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.2;
    }
}

@keyframes moveAndRotateSmooth3 {
    0% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.1;
    }
    40% {
        transform: translate(var(--move-x, 70px), var(--move-y, -20px)) rotate(var(--rotate-deg, -8deg)) scale(var(--scale, 1.1));
        opacity: 0.2;
    }
    80% {
        transform: translate(calc(var(--move-x, 70px) * -0.5), calc(var(--move-y, -20px) * 1.5)) rotate(calc(var(--rotate-deg, -8deg) * 2)) scale(var(--scale, 0.8));
        opacity: 0.1;
    }
    100% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.1;
    }
}

/* Theme Transition Overlay */
#theme-transition-overlay {
    position: fixed;
    top: var(--transition-origin-y, 50%);
    left: var(--transition-origin-x, 50%);
    width: 0;
    height: 0;
    background-color: var(--primary); /* Default, will be set by JS */
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    z-index: 9999; /* On top of everything */
    pointer-events: none; /* Do not block clicks */
    transition: transform var(--theme-transition-duration) ease-in-out,
                opacity var(--theme-transition-duration) ease-in-out,
                background-color var(--theme-transition-duration) ease-in-out,
                filter var(--theme-transition-duration) ease-in-out; /* Added filter for blur */
    will-change: transform, opacity, filter;
}

#theme-transition-overlay.active {
    transform: translate(-50%, -50%) scale(300); /* Scale up to cover screen */
    opacity: 1;
    filter: blur(0); /* Ensure no blur on active state */
}

#theme-transition-overlay.fade-out {
    opacity: 0;
    filter: blur(var(--theme-transition-blur)); /* Apply blur during fade-out */
    transition: opacity var(--theme-transition-duration) ease-out, filter var(--theme-transition-duration) ease-out;
}

/* Particle Canvas */
#particle-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1; /* Behind content but above background CVs */
    opacity: 0.2; /* Subtle particle effect */
}
